
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Properties and attributes of arrays &#8212; Fortran Programming Language</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="icon" sizes="256x256" type="image/ico" href="../../../_static/images/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <link rel="canonical" href="https://fortran-lang.org/learn/intrinsics/array.html" />
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="Bit-level inquiry and manipulation" href="../bit/" />
    <link rel="prev" title="Fortran Intrinsics" href="../" /> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
  var pr_number = -1;
  $(document).ready(function () {
    if (window.location.href.indexOf("/pr/") > -1) {
      pr_number = window.location.href.split("/").indexOf("pr") + 1;
      document.getElementById("pr").innerHTML =
        "pull request " + window.location.href.split("/")[pr_number];
      document.getElementById("pr").href =
        "https://github.com/fortran-lang/webpage/pull/" +
        window.location.href.split("/")[pr_number];
      var banner = document.getElementById("banner");
      banner.style.display = "block";
    }
  });
</script>
<div id="banner" style="display: none" class="container">
  <h3>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="feather feather-git-pull-request"
    >
      <circle cx="18" cy="18" r="3"></circle>
      <circle cx="6" cy="6" r="3"></circle>
      <path d="M13 6h3a2 2 0 0 1 2 2v7"></path>
      <line x1="6" y1="9" x2="6" y2="21"></line>
    </svg>
    <b>Site preview: </b>you are previewing unpublished changes for
    <a id="pr"></a>
  </h3>
</div> 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../news/atom.xml"
  title="Blog"
/>
 
<link href="True" rel="stylesheet" />

<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../../">
  
  
  
  
    <img src="../../../_static/fortran-logo-256x256.png" class="logo__image only-light" alt="Logo image">
    <img src="../../../_static/fortran-logo-256x256.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
    <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
    
    <div class="dropdown" id="version_switcher">
  <button
    type="button"
    class="btn btn-sm navbar-btn dropdown-toggle"
    id="version_switcher_button"
    data-toggle="dropdown"
  >
    en
    <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div
    id="version_switcher_menu"
    class="dropdown-menu list-group-flush py-0"
    aria-labelledby="version_switcher_button"
  >
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables learn/intrinsics/array and {'json_url': 'https://fortran-lang.org/', 'version_match': 'en'}.
-->

<script type="text/javascript">
  // Check if corresponding page path exists in other version of docs
  // and, if so, go there instead of the homepage of the other docs version
  function checkPageExistsAndRedirect(event) {
    const currentFilePath = "learn/intrinsics/array",
      tryUrl = event.target.getAttribute("href");
    location.href = tryUrl;
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
  }

  // Populate the version switcher from the JSON config file
  (function () {
    const currentFilePath = "learn/intrinsics/array";
    const indexFilePath = "../../../";
    let btn = document.getElementById("version_switcher_button");
    // Set empty strings by default so that these attributes exist and can be used in CSS selectors
    btn.dataset["activeVersionName"] = "";
    btn.dataset["activeVersion"] = "";
    // create links to the corresponding page in the other docs versions
    data = [
      {
        name: "English",
        version: "en",
        url: "../en/",
      },
      {
        name: "bn",
        version: "bn",
        url: "../bn/",
      },
      {
        name: "cs",
        version: "cs",
        url: "../cs/",
      },
      {
        name: "Deutsch",
        version: "de",
        url: "../de/",
      },
      {
        name: "Español",
        version: "es",
        url: "../es/",
      },
      {
        name: "Français",
        version: "fr",
        url: "../fr/",
      },
      {
        name: "ja",
        version: "ja",
        url: "../ja/",
      },
      {
        name: "Nederlands",
        version: "nl",
        url: "../nl/",
      },
      {
        name: "pl",
        version: "pl",
        url: "../pl/",
      },
      {
        name: "Português",
        version: "pt",
        url: "../pt/",
      },
      {
        name: "Русский",
        version: "ru",
        url: "../ru/",
      },
      {
        name: "简体中文",
        version: "zh_CN",
        url: "../zh_CN/",
      },
    ];
    console.log(data);
    $.each(data, function (index, entry) {
      // if no custom name specified (e.g., "latest"), use version string
      if (!("name" in entry)) {
        entry.name = entry.version;
      }
      // create the node
      const node = document.createElement("a");
      node.setAttribute("class", "list-group-item list-group-item-action py-1");
      node.textContent = `${entry.name}`;
      node.setAttribute(
        "href",
        `${indexFilePath}${entry.url}${currentFilePath}`,
      );
      // on click, AJAX calls will check if the linked page exists before
      // trying to redirect, and if not, will redirect to the homepage
      // for that version of the docs.
      node.onclick = checkPageExistsAndRedirect;
      // Add dataset values for the version and name in case people want
      // to apply CSS styling based on this information.
      node.dataset["versionName"] = entry.name;
      node.dataset["version"] = entry.version;

      $("#version_switcher_menu").append(node);
      // replace dropdown button text with the preferred display name of
      // this version, rather than using sphinx's  variable.
      // also highlight the dropdown entry for the currently-viewed
      // version's entry
      if (entry.version == "en") {
        node.classList.add("active");
        btn.innerText = btn.dataset["activeVersionName"] = entry.name;
        btn.dataset["activeVersion"] = entry.version;
      }
    });
  })();
</script>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="ml-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://play.fortran-lang.org/">
  Play
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../">
  Learn
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../roadmap/">
  Roadmap
  <!-- omit in toc -->
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../compilers/">
  Compilers
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../community/">
  Community
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../packages/">
  Packages
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../news/">
  News
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://fortran-lang.discourse.group/" rel="noopener" target="_blank" title="Discourse"><span><i class="fab fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/fortranlang" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/fortran-lang" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://fortran-lang.org/en/news/atom.xml" rel="noopener" target="_blank" title="RSS"><span><i class="fas fa-rss"></i></span>
            <label class="sr-only">RSS</label></a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <form class="bd-search d-flex align-items-center" action="../../../search/" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search" aria-label="Search" autocomplete="off" >
</form>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../os_setup/">
   Setting up your OS
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/choose_compiler/">
     Choosing a compiler
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/install_gfortran/">
     Installing GFortran
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/text_editors/">
     Text Editors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/ides/">
     IDEs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/tips/">
     Smart Tips
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../quickstart/">
   Quickstart tutorial
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/hello_world/">
     Hello world
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/variables/">
     Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/arrays_strings/">
     Arrays and strings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/operators_control_flow/">
     Operators and flow control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/organising_code/">
     Organising code structure
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/derived_types/">
     Derived Types
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../building_programs/">
   Building programs
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/compiling_source/">
     Compiling the source code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/linking_pieces/">
     Linking the objects
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/runtime_libraries/">
     Run-time libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/include_files/">
     Include files and modules
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/managing_libraries/">
     Managing libraries (static and dynamic libraries)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/build_tools/">
     Build tools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/project_make/">
     An introduction to make
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/distributing/">
     Distributing your programs
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../best_practices/">
   Fortran Best Practices
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/style_guide/">
     Fortran Style Guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/floating_point/">
     Floating Point Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/integer_division/">
     Integer Division
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/modules_programs/">
     Modules and Programs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/arrays/">
     Arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/multidim_arrays/">
     Multidimensional Arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/element_operations/">
     Element-wise Operations on Array
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/allocatable_arrays/">
     Allocatable Arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/file_io/">
     File Input/Output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/callbacks/">
     Callbacks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/type_casting/">
     Type Casting in Callbacks
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../">
   Fortran Intrinsics
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Properties and attributes of arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../bit/">
     Bit-level inquiry and manipulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../character/">
     Basic procedures for manipulating
     <em>
      character
     </em>
     variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../compiler/">
     Information about compiler and compiler options used for building
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../cfi/">
     Procedures for binding to C interfaces
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../math/">
     General mathematical functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model/">
     Controlling and querying the current numeric model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../numeric/">
     Manipulation and properties of numeric values
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../parallel/">
     Parallel programming using co_arrays and co_indexed arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../state/">
     General and miscellaneous intrinsics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../system/">
     Accessing external system information
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../transform/">
     Matrix multiplication, dot product, and array shifts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../type/">
     Types and kinds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference external" href="https://www.gnu.org/licenses/old-licenses/fdl-1.2.en.html">
     GNU Free Documentation License
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
        
<br />

<div class="tocsection onthispage">
  <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav" class="page-toc"><ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#merge">
   merge
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#name">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntax">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#description">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#arguments">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#returns">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#examples">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#standard">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#see-also">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pack">
   pack
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spread">
   spread
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id15">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id16">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unpack">
   unpack
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id19">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id20">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id21">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id22">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id23">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id24">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#allocated">
   allocated
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id25">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id26">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id27">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id28">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id29">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id30">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id31">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id32">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#is-contiguous">
   is_contiguous
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id33">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id34">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id35">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id36">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id37">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id38">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id39">
     <strong>
      Standard
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lbound">
   lbound
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id40">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id41">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id42">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id43">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id44">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id45">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id46">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id47">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rank">
   rank
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id48">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id49">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id50">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id51">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id52">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id53">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id54">
     <strong>
      Standard
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#shape">
   shape
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id55">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id56">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id57">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id58">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id59">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id60">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id61">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id62">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#size">
   size
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id63">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id64">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id65">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id66">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id67">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id68">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id69">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id70">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ubound">
   ubound
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id71">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id72">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id73">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id74">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id75">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id76">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id77">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id78">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#maxloc">
   maxloc
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id79">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id80">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id81">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id82">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id83">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id84">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id85">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id86">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#minloc">
   minloc
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id87">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id88">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id89">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id90">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id91">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id92">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id93">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id94">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#findloc">
   findloc
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id95">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id96">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id97">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options">
     <strong>
      Options
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id98">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id99">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id100">
     <strong>
      Examples
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transpose">
   transpose
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id101">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id102">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id103">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id104">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id105">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id106">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id107">
     <strong>
      Standard
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#all">
   all
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id108">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id109">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id110">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id111">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id112">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id113">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id114">
     <strong>
      Standard
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#any">
   any
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id115">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id116">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id117">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id118">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id119">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id120">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id121">
     <strong>
      Standard
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#count">
   count
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id122">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id123">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id124">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id125">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id126">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id127">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id128">
     <strong>
      Standard
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#maxval">
   maxval
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id129">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id130">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id131">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id132">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id133">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id134">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id135">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id136">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#minval">
   minval
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id137">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id138">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id139">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id140">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id141">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id142">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id143">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id144">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#product">
   product
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id145">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id146">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id147">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id148">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id149">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id150">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id151">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id152">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sum">
   sum
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id153">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id154">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id155">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id156">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id157">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id158">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id159">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id160">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reshape">
   reshape
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id161">
     <strong>
      Name
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id162">
     <strong>
      Syntax
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id163">
     <strong>
      Description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id164">
     <strong>
      Arguments
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id165">
     <strong>
      Returns
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id166">
     <strong>
      Examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id167">
     <strong>
      Standard
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id168">
     <strong>
      See Also
     </strong>
    </a>
   </li>
  </ul>
 </li>
</ul>
</nav> 
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                 <section class="tex2jax_ignore mathjax_ignore" id="properties-and-attributes-of-arrays">
<h1>Properties and attributes of arrays<a class="headerlink" href="#properties-and-attributes-of-arrays" title="Permalink to this heading">#</a></h1>
<section id="merge">
<h2>merge<a class="headerlink" href="#merge" title="Permalink to this heading">#</a></h2>
<section id="name">
<h3><strong>Name</strong><a class="headerlink" href="#name" title="Permalink to this heading">#</a></h3>
<p><strong>merge</strong>(3) - [ARRAY CONSTRUCTION] Merge variables</p>
</section>
<section id="syntax">
<h3><strong>Syntax</strong><a class="headerlink" href="#syntax" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">merge</span><span class="p">(</span><span class="n">tsource</span><span class="p">,</span><span class="w"> </span><span class="n">fsource</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="description">
<h3><strong>Description</strong><a class="headerlink" href="#description" title="Permalink to this heading">#</a></h3>
<p>The elemental function <strong>merge</strong>(3) selects values from two arrays or
scalars according to a logical mask. The result is equal to an element
of <strong>tsource</strong> where the corresponding element of <strong>mask</strong> is <strong>.true.</strong>, or an
element of <strong>fsource</strong> when it is .false. .</p>
<p>Multi-dimensional arrays are supported.</p>
<p>Note that argument expressions to <strong>merge</strong>(3) are not required to be
short-circuited so (as an example) if the array <strong>x</strong> contains zero values
in the statement below the standard does not prevent floating point
divide by zero being generated; as <strong>1.0/x</strong> may be evaluated for all values
of <strong>x</strong> before the mask is used to select which value to retain:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">      </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">merge</span><span class="p">(</span><span class="w"> </span><span class="mf">1.0</span><span class="o">/</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">)</span>
</pre></div>
</div>
<p>Note the compiler is also free to short-circuit or to generate an
infinity so this may work in many programming environments but is not
recommended.</p>
<p>For cases like this one may instead use masked assignment via the <strong>where</strong>
construct:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">      </span><span class="k">where</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="p">.</span><span class="n">ne</span><span class="p">.</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span>
<span class="w">         </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="o">/</span><span class="n">x</span>
<span class="w">      </span><span class="n">elsewhere</span>
<span class="w">         </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span>
<span class="w">      </span><span class="k">endwhere</span>
</pre></div>
</div>
<p>instead of the more obscure</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">      </span><span class="nb">merge</span><span class="p">(</span><span class="mf">1.0</span><span class="o">/</span><span class="nb">merge</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="n">x</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">),</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="arguments">
<h3><strong>Arguments</strong><a class="headerlink" href="#arguments" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>tsource</strong></dt><dd><p>May be of any type, including user-defined.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>fsource</strong></dt><dd><p>Shall be of the same type and type parameters as <strong>tsource</strong>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>Shall be of type <em>logical</em>.</p>
</dd>
</dl>
</li>
</ul>
<p>Note that (currently) <em>character</em> values must be of the same length.</p>
</section>
<section id="returns">
<h3><strong>Returns</strong><a class="headerlink" href="#returns" title="Permalink to this heading">#</a></h3>
<p>The result is of the same type and type parameters as <strong>tsource</strong>. For any
element the result is <strong>tsource</strong> if <strong>mask</strong> is true and <strong>fsource</strong> otherwise.</p>
</section>
<section id="examples">
<h3><strong>Examples</strong><a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h3>
<p>The value of</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">     </span><span class="nb">merge</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>is 1.0 for K=5 and 0.0 for K=<strong>-2</strong>.</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_merge</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">tvals</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fvals</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">answer</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="kt">logical</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">mask</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span>
<span class="kt">logical</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">chooseleft</span>

<span class="w">   </span><span class="n">tvals</span><span class="p">(</span><span class="mi">1</span><span class="p">,:)</span><span class="o">=</span><span class="p">[</span><span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">60</span><span class="p">,</span><span class="w">  </span><span class="mi">50</span><span class="w"> </span><span class="p">]</span>
<span class="w">   </span><span class="n">tvals</span><span class="p">(</span><span class="mi">2</span><span class="p">,:)</span><span class="o">=</span><span class="p">[</span><span class="w"> </span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="w">  </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">60</span><span class="w"> </span><span class="p">]</span>

<span class="w">   </span><span class="n">fvals</span><span class="p">(</span><span class="mi">1</span><span class="p">,:)</span><span class="o">=</span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">]</span>
<span class="w">   </span><span class="n">fvals</span><span class="p">(</span><span class="mi">2</span><span class="p">,:)</span><span class="o">=</span><span class="p">[</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">]</span>

<span class="w">   </span><span class="n">mask</span><span class="p">(</span><span class="mi">1</span><span class="p">,:)</span><span class="o">=</span><span class="p">[</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.,</span><span class="w">  </span><span class="p">.</span><span class="n">false</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"> </span><span class="p">]</span>
<span class="w">   </span><span class="n">mask</span><span class="p">(</span><span class="mi">2</span><span class="p">,:)</span><span class="o">=</span><span class="p">[</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"> </span><span class="p">]</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;mask of logicals&#39;</span>
<span class="w">   </span><span class="n">answer</span><span class="o">=</span><span class="nb">merge</span><span class="p">(</span><span class="w"> </span><span class="n">tvals</span><span class="p">,</span><span class="w"> </span><span class="n">fvals</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="k">call </span><span class="n">printme</span><span class="p">()</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;highest values&#39;</span>
<span class="w">   </span><span class="n">answer</span><span class="o">=</span><span class="nb">merge</span><span class="p">(</span><span class="w"> </span><span class="n">tvals</span><span class="p">,</span><span class="w"> </span><span class="n">fvals</span><span class="p">,</span><span class="w"> </span><span class="n">tvals</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fvals</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="k">call </span><span class="n">printme</span><span class="p">()</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;lowest values&#39;</span>
<span class="w">   </span><span class="n">answer</span><span class="o">=</span><span class="nb">merge</span><span class="p">(</span><span class="w"> </span><span class="n">tvals</span><span class="p">,</span><span class="w"> </span><span class="n">fvals</span><span class="p">,</span><span class="w"> </span><span class="n">tvals</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">fvals</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="k">call </span><span class="n">printme</span><span class="p">()</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;zero out negative values&#39;</span>
<span class="w">   </span><span class="n">answer</span><span class="o">=</span><span class="nb">merge</span><span class="p">(</span><span class="w"> </span><span class="n">tvals</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">tvals</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">   </span><span class="k">call </span><span class="n">printme</span><span class="p">()</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;binary choice&#39;</span>
<span class="w">   </span><span class="n">chooseleft</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(3i4)&#39;</span><span class="p">)</span><span class="nb">merge</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">],</span><span class="n">chooseleft</span><span class="p">)</span>
<span class="w">   </span><span class="n">chooseleft</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(3i4)&#39;</span><span class="p">)</span><span class="nb">merge</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">],</span><span class="n">chooseleft</span><span class="p">)</span>

<span class="k">contains</span>

<span class="k">subroutine </span><span class="n">printme</span><span class="p">()</span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(3i4)&#39;</span><span class="p">)(</span><span class="n">answer</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">:),</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">(</span><span class="n">answer</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="k">end subroutine </span><span class="n">printme</span>

<span class="k">end program </span><span class="n">demo_merge</span>
</pre></div>
</div>
<p>Expected Results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">mask</span> <span class="n">of</span> <span class="n">logicals</span>
     <span class="mi">10</span>   <span class="mi">3</span>  <span class="mi">50</span>
      <span class="mi">7</span>   <span class="mi">4</span> <span class="o">-</span><span class="mi">60</span>
    <span class="n">highest</span> <span class="n">values</span>
     <span class="mi">10</span>   <span class="mi">3</span>  <span class="mi">50</span>
      <span class="mi">7</span>  <span class="mi">40</span>   <span class="mi">8</span>
    <span class="n">lowest</span> <span class="n">values</span>
      <span class="mi">0</span> <span class="o">-</span><span class="mi">60</span>   <span class="mi">2</span>
    <span class="o">-</span><span class="mi">20</span>   <span class="mi">4</span> <span class="o">-</span><span class="mi">60</span>
    <span class="n">zero</span> <span class="n">out</span> <span class="n">negative</span> <span class="n">values</span>
      <span class="mi">0</span> <span class="o">-</span><span class="mi">60</span>   <span class="mi">0</span>
    <span class="o">-</span><span class="mi">20</span>   <span class="mi">0</span> <span class="o">-</span><span class="mi">60</span>
    <span class="n">binary</span> <span class="n">choice</span>
     <span class="mi">10</span>  <span class="mi">20</span>  <span class="mi">30</span>
      <span class="mi">1</span>   <span class="mi">2</span>   <span class="mi">3</span>
</pre></div>
</div>
</section>
<section id="standard">
<h3><strong>Standard</strong><a class="headerlink" href="#standard" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="see-also">
<h3><strong>See Also</strong><a class="headerlink" href="#see-also" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#pack"><span class="std std-doc"><strong>pack</strong>(3)</span></a>,
<a class="reference internal" href="#unpack"><span class="std std-doc"><strong>unpack</strong>(3)</span></a>,
<a class="reference internal" href="#pack"><span class="std std-doc"><strong>pack</strong>(3)</span></a>,
<a class="reference internal" href="#spread"><span class="std std-doc"><strong>spread</strong>(3)</span></a>,
<a class="reference internal" href="#unpack"><span class="std std-doc"><strong>unpack</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions (license: MIT) &#64;urbanjost</em></p>
</section>
</section>
<section id="pack">
<h2>pack<a class="headerlink" href="#pack" title="Permalink to this heading">#</a></h2>
<section id="id1">
<h3><strong>Name</strong><a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<p><strong>pack</strong>(3) - [ARRAY CONSTRUCTION] Pack an array into an array of rank one</p>
</section>
<section id="id2">
<h3><strong>Syntax</strong><a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">pack</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="n">vector</span><span class="p">)</span>

<span class="w">   </span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">)</span><span class="w"> </span><span class="k">function </span><span class="nb">pack</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="n">mask</span><span class="p">,</span><span class="n">vector</span><span class="p">)</span>
<span class="w">   </span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">),</span><span class="n">option</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="k">array</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="w">   </span><span class="kt">logical</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">mask</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="w">   </span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">),</span><span class="n">option</span><span class="p">(</span><span class="n">in</span><span class="p">),</span><span class="k">optional</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">vector</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
</pre></div>
</div>
<p>where TYPE(kind=KIND) may be any type, where <strong>array</strong> and <strong>vector</strong>
and the returned value must by of the same type. <strong>mask</strong> may be a
scalar as well an an array.</p>
</section>
<section id="id3">
<h3><strong>Description</strong><a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h3>
<p>Stores the elements of ARRAY in an array of rank one.</p>
<p>The beginning of the resulting array is made up of elements whose <strong>mask</strong>
equals <strong>.true.</strong>. Afterwards, positions are filled with elements taken from
<strong>vector</strong>.</p>
</section>
<section id="id4">
<h3><strong>Arguments</strong><a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array of any type.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>Shall be an array of type <em>logical</em> and of the same size as <strong>array</strong>.
Alternatively, it may be a <em>logical</em> scalar.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>vector</strong></dt><dd><p>(Optional) shall be an array of the same type as <strong>array</strong> and of rank
one. If present, the number of elements in <strong>vector</strong> shall be equal to
or greater than the number of true elements in <strong>mask</strong>. If <strong>mask</strong> is
scalar, the number of elements in <strong>vector</strong> shall be equal to or
greater than the number of elements in <strong>array</strong>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id5">
<h3><strong>Returns</strong><a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h3>
<p>The result is an array of rank one and the same type as that of <strong>array</strong>.
If <strong>vector</strong> is present, the result size is that of <strong>vector</strong>, the number of
<strong>.true.</strong> values in <strong>mask</strong> otherwise.</p>
</section>
<section id="id6">
<h3><strong>Examples</strong><a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_pack</span>
<span class="k">implicit none</span>
<span class="k">   call </span><span class="n">test1</span><span class="p">()</span>
<span class="w">   </span><span class="k">call </span><span class="n">test2</span><span class="p">()</span>
<span class="w">   </span><span class="k">call </span><span class="n">test3</span><span class="p">()</span>
<span class="k">contains</span>
<span class="c">!</span>
<span class="k">subroutine </span><span class="n">test1</span><span class="p">()</span>
<span class="c">! gathering nonzero elements from an array:</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">m</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>

<span class="w">   </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">]</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;(*(i0, &#39; &#39;))&quot;</span><span class="p">)</span><span class="w"> </span><span class="nb">pack</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">  </span><span class="c">! &quot;1 5&quot;</span>

<span class="k">end subroutine </span><span class="n">test1</span>
<span class="c">!</span>
<span class="k">subroutine </span><span class="n">test2</span><span class="p">()</span>
<span class="c">! Gathering nonzero elements from an array and appending elements</span>
<span class="c">! from VECTOR till the size of the mask array (or array size if the</span>
<span class="c">! mask is scalar):</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">m</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="w">   </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">]</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;(*(i0, &#39; &#39;))&quot;</span><span class="p">)</span><span class="w"> </span><span class="nb">pack</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">])</span>

<span class="k">end subroutine </span><span class="n">test2</span>
<span class="c">!</span>
<span class="k">subroutine </span><span class="n">test3</span><span class="p">()</span>
<span class="c">! select strings whose second character is &quot;a&quot;</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">m</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="s1">&#39;ape&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bat&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;cat&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dog&#39;</span><span class="p">]</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;(*(g0, &#39; &#39;))&quot;</span><span class="p">)</span><span class="w"> </span><span class="nb">pack</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">(:)(</span><span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="p">)</span>

<span class="k">end subroutine </span><span class="n">test3</span>
<span class="c">!</span>
<span class="k">end program </span><span class="n">demo_pack</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   1 5
   1 2 3 4
   bat        cat
</pre></div>
</div>
</section>
<section id="id7">
<h3><strong>Standard</strong><a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id8">
<h3><strong>See Also</strong><a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#unpack"><span class="std std-doc"><strong>unpack</strong>(3)</span></a>,
<a class="reference internal" href="#merge"><span class="std std-doc"><strong>merge</strong>(3)</span></a>,
<a class="reference internal" href="#pack"><span class="std std-doc"><strong>pack</strong>(3)</span></a>,
<a class="reference internal" href="#spread"><span class="std std-doc"><strong>spread</strong>(3)</span></a>,
<a class="reference internal" href="#unpack"><span class="std std-doc"><strong>unpack</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions (license: MIT) &#64;urbanjost</em></p>
</section>
</section>
<section id="spread">
<h2>spread<a class="headerlink" href="#spread" title="Permalink to this heading">#</a></h2>
<section id="id9">
<h3><strong>Name</strong><a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h3>
<p><strong>spread</strong>(3) - [ARRAY CONSTRUCTION] Add a dimension to an array</p>
</section>
<section id="id10">
<h3><strong>Syntax</strong><a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">spread</span><span class="p">(</span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">ncopies</span><span class="p">)</span>

<span class="w">  </span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">)</span><span class="w"> </span><span class="k">function </span><span class="nb">spread</span><span class="p">(</span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">ncopies</span><span class="p">)</span>

<span class="w">   </span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">)</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">source</span><span class="p">(..)</span>
<span class="w">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="nb">dim</span>
<span class="nb">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">ncopies</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3><strong>Description</strong><a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h3>
<p>Replicates a <strong>source</strong> array <strong>ncopies</strong> times along a specified
dimension <strong>dim</strong>.</p>
<p>If <strong>source</strong> is scalar, the shape of the result is (MAX (NCOPIES, 0)).
and each element of the result has a value equal to <strong>source</strong>.</p>
</section>
<section id="id12">
<h3><strong>Arguments</strong><a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>source</strong></dt><dd><p>Shall be a scalar or an array of any type and a rank less than
fifteen.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>Shall be a scalar of type <em>integer</em> with a value in the range from
<strong>1</strong> to <strong>n+1</strong>, where <strong>n</strong> equals the rank of <strong>source</strong>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>ncopies</strong></dt><dd><p>Shall be a scalar of type <em>integer</em>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id13">
<h3><strong>Returns</strong><a class="headerlink" href="#id13" title="Permalink to this heading">#</a></h3>
<p>The result is an array of the same type as <strong>source</strong> and has rank <strong>n+1</strong>
where <strong>n</strong> equals the rank of <strong>source</strong>.</p>
</section>
<section id="id14">
<h3><strong>Examples</strong><a class="headerlink" href="#id14" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_spread</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">]</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">spread</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">            </span><span class="c">! &quot;1 1&quot;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">spread</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">            </span><span class="c">! &quot;1 1 2 2&quot;</span>

<span class="k">end program </span><span class="n">demo_spread</span>

<span class="k">program </span><span class="n">example_spread</span>
<span class="c">!  Author:</span>
<span class="c">!    John Burkardt, 03 July 2006</span>
<span class="k">implicit none</span>
<span class="w">     </span><span class="c">!</span>
<span class="kt">integer</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">kind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">a1</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="kt">integer</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">kind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">a2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="kt">integer </span><span class="n">i</span>
<span class="kt">integer</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">kind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">s</span>
<span class="kt">integer</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">kind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">v</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;TEST_SPREAD&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  SPREAD is a FORTRAN90 function which replicates&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  an array by adding a dimension.&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">99</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a,i6)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  Suppose we have a scalar S = &#39;</span><span class="p">,</span><span class="w"> </span><span class="n">s</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">spread</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">)</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  V = spread ( s, 1, 4 )&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  adds a new dimension (1) of extent 4&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(4i6)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">v</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">)</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  Now first reset V to (1,2,3,4)&#39;</span>
<span class="w">     </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">]</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="n">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">spread</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">)</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  A1 = spread ( v, 2, 3 )&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  adds a new dimension (2) of extent 3&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">do </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span>
<span class="w">       </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(3i6)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">a1</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">)</span>
<span class="w">     </span><span class="k">end do</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="n">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">spread</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">)</span>
<span class="w">     </span><span class="c">!</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  A2 = spread ( v, 1, 3 )&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;  adds a new dimension (1) of extent 3&#39;</span>
<span class="w">     </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(a)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="s1">&#39; &#39;</span>
<span class="w">     </span><span class="k">do </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span>
<span class="w">       </span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;(4i6)&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">a2</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">)</span>
<span class="w">     </span><span class="k">end do</span>
<span class="k">end program </span><span class="n">example_spread</span>
</pre></div>
</div>
</section>
<section id="id15">
<h3><strong>Standard</strong><a class="headerlink" href="#id15" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id16">
<h3><strong>See Also</strong><a class="headerlink" href="#id16" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#pack"><span class="std std-doc"><strong>pack</strong>(3)</span></a>,
<a class="reference internal" href="#unpack"><span class="std std-doc"><strong>unpack</strong>(3)</span></a>,
<a class="reference internal" href="#merge"><span class="std std-doc"><strong>merge</strong>(3)</span></a>,
<a class="reference internal" href="#pack"><span class="std std-doc"><strong>pack</strong>(3)</span></a>,
<a class="reference internal" href="#unpack"><span class="std std-doc"><strong>unpack</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="unpack">
<h2>unpack<a class="headerlink" href="#unpack" title="Permalink to this heading">#</a></h2>
<section id="id17">
<h3><strong>Name</strong><a class="headerlink" href="#id17" title="Permalink to this heading">#</a></h3>
<p><strong>unpack</strong>(3) - [ARRAY CONSTRUCTION] scatter the elements of a vector
into an array using a mask</p>
</section>
<section id="id18">
<h3><strong>Syntax</strong><a class="headerlink" href="#id18" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">unpack</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="p">)</span>

<span class="w"> </span><span class="k">type</span><span class="p">(</span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">)),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">vector</span><span class="p">(:)</span>
<span class="w"> </span><span class="kt">logical</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">               </span><span class="kd">::</span><span class="w"> </span><span class="n">mask</span><span class="p">(..)</span>
<span class="w"> </span><span class="k">type</span><span class="p">(</span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">)),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">field</span><span class="p">(..)</span>
<span class="w"> </span><span class="k">type</span><span class="p">(</span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">))</span><span class="w">            </span><span class="kd">::</span><span class="w"> </span><span class="k">result</span><span class="p">(..)</span>
</pre></div>
</div>
</section>
<section id="id19">
<h3><strong>Description</strong><a class="headerlink" href="#id19" title="Permalink to this heading">#</a></h3>
<p>Scatter the elements of <strong>vector</strong> into a copy of an array <strong>field</strong>
of any rank using <em>.true.</em> values from <strong>mask</strong> in array element order
to specify placement of the <strong>vector</strong> values.</p>
<p>So a copy of <strong>field</strong> is generated with select elements replaced with
values from <strong>vector</strong>.</p>
</section>
<section id="id20">
<h3><strong>Arguments</strong><a class="headerlink" href="#id20" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>vector</strong></dt><dd><p>Shall be an array of any type and rank one. It shall have at least
as many elements as <strong>mask</strong> has <strong>.true.</strong> values.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>Shall be an array of type <em>logical</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>field</strong></dt><dd><p>Shall be of the same type and type parameters as <strong>vector</strong> and
shall be conformable with <strong>mask</strong>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id21">
<h3><strong>Returns</strong><a class="headerlink" href="#id21" title="Permalink to this heading">#</a></h3>
<p>The result is an array of the same type and type parameters as <strong>vector</strong>
and the same shape as <strong>mask</strong>.</p>
<p>The element of the result that corresponds to the ith true element
of MASK, in array element order, has the value VECTOR (i) for i =
1, 2, …, t, where t is the number of true values in MASK. Each
other element has a value equal to FIELD if FIELD is scalar or to the
corresponding element of FIELD if it is an array.</p>
<p>The resulting array corresponds to <strong>field</strong> with <strong>.true.</strong> elements
of <strong>mask</strong> replaced by values from <strong>vector</strong> in array element order.</p>
</section>
<section id="id22">
<h3><strong>Examples</strong><a class="headerlink" href="#id22" title="Permalink to this heading">#</a></h3>
<p>Particular values may be “scattered” to particular positions in an array by using</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>                       1 0 0
    If M is the array  0 1 0
                       0 0 1

    V is the array [1, 2, 3],
                               . T .
    and Q is the logical mask  T . .
                               . . T
    where &quot;T&quot; represents true and &quot;.&quot; represents false, then the result of

    UNPACK (V, MASK = Q, FIELD = M) has the value

      1 2 0
      1 1 0
      0 0 3

    and the result of UNPACK (V, MASK = Q, FIELD = 0) has the value

      0 2 0
      1 0 0
      0 0 3
</pre></div>
</div>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_unpack</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">vector</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="kt">logical</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">mask</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"> </span><span class="p">]</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">field</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">unity</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="w">   </span><span class="c">! result: unity matrix</span>
<span class="w">   </span><span class="n">unity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">unpack</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span><span class="w"> </span><span class="nb">reshape</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]),</span><span class="w"> </span><span class="n">field</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="n">unity</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">unity</span><span class="p">),</span><span class="nb">shape</span><span class="p">(</span><span class="n">unity</span><span class="p">)</span>

<span class="k">end program </span><span class="n">demo_unpack</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>              1           0           0           1           4
              2           2
</pre></div>
</div>
</section>
<section id="id23">
<h3><strong>Standard</strong><a class="headerlink" href="#id23" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id24">
<h3><strong>See Also</strong><a class="headerlink" href="#id24" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#pack"><span class="std std-doc"><strong>pack</strong>(3)</span></a>,
<a class="reference internal" href="#merge"><span class="std std-doc"><strong>merge</strong>(3)</span></a>,
<a class="reference internal" href="#pack"><span class="std std-doc"><strong>pack</strong>(3)</span></a>,
<a class="reference internal" href="#spread"><span class="std std-doc"><strong>spread</strong>(3)</span></a>,
<a class="reference internal" href="#unpack"><span class="std std-doc"><strong>unpack</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="allocated">
<h2>allocated<a class="headerlink" href="#allocated" title="Permalink to this heading">#</a></h2>
<section id="id25">
<h3><strong>Name</strong><a class="headerlink" href="#id25" title="Permalink to this heading">#</a></h3>
<p><strong>allocated</strong>(3) - [ARRAY INQUIRY] Status of an allocatable entity</p>
</section>
<section id="id26">
<h3><strong>Syntax</strong><a class="headerlink" href="#id26" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">allocated</span><span class="p">(</span><span class="k">array</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">allocated</span><span class="p">(</span><span class="n">scalar</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id27">
<h3><strong>Description</strong><a class="headerlink" href="#id27" title="Permalink to this heading">#</a></h3>
<p><strong>allocated(array)</strong> and <strong>allocated(scalar)</strong> check the allocation
status of <strong>array</strong> and <strong>scalar</strong>, respectively.</p>
</section>
<section id="id28">
<h3><strong>Arguments</strong><a class="headerlink" href="#id28" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>the argument shall be an <em>allocatable</em> array.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>scalar</strong></dt><dd><p>the argument shall be an <em>allocatable</em> scalar.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id29">
<h3><strong>Returns</strong><a class="headerlink" href="#id29" title="Permalink to this heading">#</a></h3>
<p>The return value is a scalar <em>logical</em> with the default logical kind type
parameter. If the argument is allocated then the result is .true.;
otherwise, it returns .false..</p>
</section>
<section id="id30">
<h3><strong>Examples</strong><a class="headerlink" href="#id30" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_allocated</span>
<span class="k">use</span><span class="p">,</span><span class="k">intrinsic</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">iso_fortran_env</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">dp</span><span class="o">=&gt;</span><span class="n">real64</span><span class="p">,</span><span class="n">sp</span><span class="o">=&gt;</span><span class="n">real32</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<span class="kt">real</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">sp</span><span class="p">),</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">x</span><span class="p">(:)</span>

<span class="w">   </span><span class="c">! if already allocated, deallocate</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb">allocated</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">deallocate</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="w">   </span><span class="c">! only if not allocated, allocate</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">.</span><span class="nb">not</span><span class="p">.</span><span class="w"> </span><span class="nb">allocated</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">allocate</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nb">allocated</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">size</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">   </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="nb">allocated</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w"> </span><span class="k">then</span>
<span class="k">       write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;do things if allocated&#39;</span>
<span class="w">   </span><span class="k">else</span>
<span class="k">       write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;do things if not allocated&#39;</span>
<span class="w">   </span><span class="k">endif</span>
<span class="k">   call </span><span class="n">intentout</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;note it is deallocated!&#39;</span><span class="p">,</span><span class="nb">allocated</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">   </span><span class="k">contains</span>
<span class="k">   subroutine </span><span class="n">intentout</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="c">! note that if arr has intent(out) and is allocatable,</span>
<span class="w">   </span><span class="c">! arr is deallocated on entry</span>
<span class="w">   </span><span class="kt">real</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">sp</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">out</span><span class="p">),</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:)</span>
<span class="w">       </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;note it was allocated in calling program&#39;</span><span class="p">,</span><span class="nb">allocated</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">end subroutine </span><span class="n">intentout</span>

<span class="k">end program </span><span class="n">demo_allocated</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    T           4
    do things if allocated
    note it was allocated in calling program F
    note it is deallocated! F
</pre></div>
</div>
</section>
<section id="id31">
<h3><strong>Standard</strong><a class="headerlink" href="#id31" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later. Note, the scalar= keyword and allocatable
scalar entities are available in Fortran 2003 and later.</p>
</section>
<section id="id32">
<h3><strong>See Also</strong><a class="headerlink" href="#id32" title="Permalink to this heading">#</a></h3>
<p><span class="xref myst"><strong>move_alloc</strong>(3)</span></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="is-contiguous">
<h2>is_contiguous<a class="headerlink" href="#is-contiguous" title="Permalink to this heading">#</a></h2>
<section id="id33">
<h3><strong>Name</strong><a class="headerlink" href="#id33" title="Permalink to this heading">#</a></h3>
<p><strong>is_contiguous</strong>(3) - [ARRAY INQUIRY] test if object is contiguous</p>
</section>
<section id="id34">
<h3><strong>Syntax</strong><a class="headerlink" href="#id34" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">is_contiguous</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id35">
<h3><strong>Description</strong><a class="headerlink" href="#id35" title="Permalink to this heading">#</a></h3>
<p>True if and only if an object is contiguous.</p>
<p>An object is contiguous if it is</p>
<ul class="simple">
<li><p><strong>(1)</strong>
an object with the CONTIGUOUS attribute,</p></li>
<li><p><strong>(2)</strong>
a nonpointer whole array that is not assumed-shape,</p></li>
<li><p><strong>(3)</strong>
an assumed-shape array that is argument associated with an array
that is contiguous,</p></li>
<li><p><strong>(4)</strong>
an array allocated by an ALLOCATE statement,</p></li>
<li><p><strong>(5)</strong>
a pointer associated with a contiguous target, or</p></li>
<li><p><strong>(6)</strong>
a nonzero-sized array section provided that</p>
<ul>
<li><p><strong>(a)</strong>
its base object is contiguous,</p></li>
<li><p><strong>(b)</strong>
it does not have a vector subscript,</p></li>
<li><p><strong>(c)</strong>
the elements of the section, in array element order, are a
subset of the base object elements that are consecutive in
array element order,</p></li>
<li><p><strong>(d)</strong>
if the array is of type character and a substring-range
appears, the substring-range specifies all of the characters
of the parent-string,</p></li>
<li><p><strong>(e)</strong>
only its final part-ref has nonzero rank, and</p></li>
<li><p><strong>(f)</strong>
it is not the real or imaginary part of an array of type
complex.</p></li>
</ul>
</li>
</ul>
<p>An object is not contiguous if it is an array subobject, and</p>
<ul class="simple">
<li><p>the object has two or more elements,</p></li>
<li><p>the elements of the object in array element order are not
consecutive in the elements of the base object,</p></li>
<li><p>the object is not of type character with length zero, and</p></li>
<li><p>the object is not of a derived type that has no ultimate
components other than zero-sized arrays and</p></li>
<li><p>characters with length zero.</p></li>
</ul>
<p>It is processor-dependent whether any other object is contiguous.</p>
</section>
<section id="id36">
<h3><strong>Arguments</strong><a class="headerlink" href="#id36" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>a</strong></dt><dd><p>may be of any type. It shall be an array. If it is a pointer it
shall be associated.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id37">
<h3><strong>Returns</strong><a class="headerlink" href="#id37" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>Result</strong></dt><dd><p>of type Default logical scalar. The result has the value true if <strong>a</strong>
is contiguous, and false otherwise.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id38">
<h3><strong>Examples</strong><a class="headerlink" href="#id38" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_is_contiguous</span>
<span class="k">implicit none</span>
<span class="k">intrinsic </span><span class="nb">is_contiguous</span>
<span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">DIMENSION</span><span class="w"> </span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">),</span><span class="w"> </span><span class="k">TARGET</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">A</span>
<span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">DIMENSION</span><span class="w"> </span><span class="p">(:,</span><span class="w"> </span><span class="p">:),</span><span class="w"> </span><span class="k">POINTER</span><span class="w">       </span><span class="kd">::</span><span class="w"> </span><span class="n">IN</span><span class="p">,</span><span class="w"> </span><span class="n">OUT</span>
<span class="w">   </span><span class="n">IN</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">A</span><span class="w">              </span><span class="c">! Associate IN with target A</span>
<span class="w">   </span><span class="n">OUT</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">A</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">1000</span><span class="p">:</span><span class="mi">2</span><span class="p">,:)</span><span class="w"> </span><span class="c">! Associate OUT with subset of target A</span>
<span class="w">   </span><span class="c">!</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;IN is &#39;</span><span class="p">,</span><span class="nb">IS_CONTIGUOUS</span><span class="p">(</span><span class="n">IN</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;OUT is &#39;</span><span class="p">,</span><span class="nb">IS_CONTIGUOUS</span><span class="p">(</span><span class="n">OUT</span><span class="p">)</span>
<span class="w">   </span><span class="c">!</span>
<span class="k">end program </span><span class="n">demo_is_contiguous</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    IN is  T
    OUT is  F
</pre></div>
</div>
</section>
<section id="id39">
<h3><strong>Standard</strong><a class="headerlink" href="#id39" title="Permalink to this heading">#</a></h3>
<p>Fortran 2008 and later</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="lbound">
<h2>lbound<a class="headerlink" href="#lbound" title="Permalink to this heading">#</a></h2>
<section id="id40">
<h3><strong>Name</strong><a class="headerlink" href="#id40" title="Permalink to this heading">#</a></h3>
<p><strong>lbound</strong>(3) - [ARRAY INQUIRY] Lower dimension bounds of an array</p>
</section>
<section id="id41">
<h3><strong>Syntax</strong><a class="headerlink" href="#id41" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">lbound</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="nb">kind</span><span class="p">)</span>

<span class="w">   </span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">)</span><span class="w"> </span><span class="k">elemental function </span><span class="nb">lbound</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="nb">dim</span><span class="p">,</span><span class="nb">kind</span><span class="p">)</span>
<span class="w">   </span><span class="k">TYPE</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="k">array</span>
<span class="k">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">optional</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="nb">dim</span>
<span class="nb">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">optional</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="nb">kind</span>
</pre></div>
</div>
</section>
<section id="id42">
<h3><strong>Description</strong><a class="headerlink" href="#id42" title="Permalink to this heading">#</a></h3>
<p>Returns the lower bounds of an array, or a single lower bound along the
<strong>dim</strong> dimension.</p>
</section>
<section id="id43">
<h3><strong>Arguments</strong><a class="headerlink" href="#id43" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array, of any type.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>Shall be a scalar <em>integer</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>kind</strong></dt><dd><p>An <em>integer</em> initialization expression indicating the kind
parameter of the result.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id44">
<h3><strong>Returns</strong><a class="headerlink" href="#id44" title="Permalink to this heading">#</a></h3>
<p>The return value is of type <em>integer</em> and of kind <strong>kind</strong>. If <strong>kind</strong> is absent,
the return value is of default integer kind. If <strong>dim</strong> is absent, the
result is an array of the lower bounds of <strong>array</strong>. If <strong>dim</strong> is present, the
result is a scalar corresponding to the lower bound of the array along
that dimension. If <strong>array</strong> is an expression rather than a whole array or
array structure component, or if it has a zero extent along the relevant
dimension, the lower bound is taken to be 1.</p>
</section>
<section id="id45">
<h3><strong>Examples</strong><a class="headerlink" href="#id45" title="Permalink to this heading">#</a></h3>
<p>Note that in my opinion this function should not be used on assumed-size
arrays or in any function without an explicit interface. Errors can
occur if there is no interface defined.</p>
<p>Sample program</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">! program demo_lbound</span>
<span class="k">module </span><span class="n">m_bounds</span>
<span class="k">implicit none</span>
<span class="k"> contains</span>
<span class="k">    subroutine </span><span class="n">msub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">       </span><span class="c">!!integer,intent(in) :: arr(*)  ! cannot be assumed-size array</span>
<span class="w">       </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:)</span>
<span class="w">       </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;MSUB: LOWER=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">       </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;UPPER=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">       </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;SIZE=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">    </span><span class="k">end subroutine </span><span class="n">msub</span>
<span class="w"> </span><span class="k">end module </span><span class="n">m_bounds</span>

<span class="w"> </span><span class="k">use </span><span class="n">m_bounds</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">msub</span>
<span class="w"> </span><span class="k">implicit none</span>
<span class="k"> interface</span>
<span class="k">    subroutine </span><span class="n">esub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">    </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:)</span>
<span class="w">    </span><span class="k">end subroutine </span><span class="n">esub</span>
<span class="w"> </span><span class="k">end interface</span>
<span class="k"> </span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">:</span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;MAIN: LOWER=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">    </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;UPPER=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">    </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;SIZE=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">    </span><span class="k">call </span><span class="n">csub</span><span class="p">()</span>
<span class="w">    </span><span class="k">call </span><span class="n">msub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">    </span><span class="k">call </span><span class="n">esub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w"> </span><span class="k">contains</span>
<span class="k">subroutine </span><span class="n">csub</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;CSUB: LOWER=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;UPPER=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;SIZE=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">end subroutine </span><span class="n">csub</span>
<span class="k">end</span>

<span class="k"> subroutine </span><span class="n">esub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w"> </span><span class="k">implicit none</span>
<span class="k"> </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:)</span>
<span class="w">    </span><span class="c">! WARNING: IF CALLED WITHOUT AN EXPLICIT INTERFACE</span>
<span class="w">    </span><span class="c">! THIS WILL GIVE UNDEFINED ANSWERS (like 0,0,0)</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;ESUB: LOWER=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">    </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;UPPER=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">    </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;SIZE=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w"> </span><span class="k">end subroutine </span><span class="n">esub</span>

<span class="c">!end program demo_lbound</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">MAIN</span><span class="p">:</span> <span class="n">LOWER</span><span class="o">=</span>         <span class="o">-</span><span class="mi">10</span> <span class="n">UPPER</span><span class="o">=</span>          <span class="mi">10</span> <span class="n">SIZE</span><span class="o">=</span>          <span class="mi">21</span>
   <span class="n">CSUB</span><span class="p">:</span> <span class="n">LOWER</span><span class="o">=</span>         <span class="o">-</span><span class="mi">10</span> <span class="n">UPPER</span><span class="o">=</span>          <span class="mi">10</span> <span class="n">SIZE</span><span class="o">=</span>          <span class="mi">21</span>
   <span class="n">MSUB</span><span class="p">:</span> <span class="n">LOWER</span><span class="o">=</span>           <span class="mi">1</span> <span class="n">UPPER</span><span class="o">=</span>          <span class="mi">21</span> <span class="n">SIZE</span><span class="o">=</span>          <span class="mi">21</span>
   <span class="n">ESUB</span><span class="p">:</span> <span class="n">LOWER</span><span class="o">=</span>           <span class="mi">1</span> <span class="n">UPPER</span><span class="o">=</span>          <span class="mi">21</span> <span class="n">SIZE</span><span class="o">=</span>          <span class="mi">21</span>
</pre></div>
</div>
</section>
<section id="id46">
<h3><strong>Standard</strong><a class="headerlink" href="#id46" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later, with KIND argument - Fortran 2003 and later</p>
</section>
<section id="id47">
<h3><strong>See Also</strong><a class="headerlink" href="#id47" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#ubound"><span class="std std-doc"><strong>ubound</strong>(3)</span></a>,
<span class="xref myst"><strong>co_lbound</strong>(3)</span></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="rank">
<h2>rank<a class="headerlink" href="#rank" title="Permalink to this heading">#</a></h2>
<section id="id48">
<h3><strong>Name</strong><a class="headerlink" href="#id48" title="Permalink to this heading">#</a></h3>
<p><strong>rank</strong>(3) - [ARRAY INQUIRY] Rank of a data object</p>
</section>
<section id="id49">
<h3><strong>Syntax</strong><a class="headerlink" href="#id49" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rank</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id50">
<h3><strong>Description</strong><a class="headerlink" href="#id50" title="Permalink to this heading">#</a></h3>
<p><strong>rank(a)</strong> returns the rank of a scalar or array data object.</p>
</section>
<section id="id51">
<h3><strong>Arguments</strong><a class="headerlink" href="#id51" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>a</strong></dt><dd><p>can be of any type</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id52">
<h3><strong>Returns</strong><a class="headerlink" href="#id52" title="Permalink to this heading">#</a></h3>
<p>The return value is of type <em>integer</em> and of the default integer kind. For
arrays, their rank is returned; for scalars zero is returned.</p>
</section>
<section id="id53">
<h3><strong>Examples</strong><a class="headerlink" href="#id53" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_rank</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span>
<span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">b</span><span class="p">(:,:)</span>
<span class="kt">real</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">c</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">rank</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="w"> </span><span class="n">rank</span><span class="p">(</span><span class="n">b</span><span class="p">),</span><span class="w"> </span><span class="n">rank</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="k">end program </span><span class="n">demo_rank</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   0           2           3
</pre></div>
</div>
</section>
<section id="id54">
<h3><strong>Standard</strong><a class="headerlink" href="#id54" title="Permalink to this heading">#</a></h3>
<p>TS 29113</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="shape">
<h2>shape<a class="headerlink" href="#shape" title="Permalink to this heading">#</a></h2>
<section id="id55">
<h3><strong>Name</strong><a class="headerlink" href="#id55" title="Permalink to this heading">#</a></h3>
<p><strong>shape</strong>(3) - [ARRAY INQUIRY] Determine the shape of an array</p>
</section>
<section id="id56">
<h3><strong>Syntax</strong><a class="headerlink" href="#id56" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">shape</span><span class="p">(</span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="nb">kind</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id57">
<h3><strong>Description</strong><a class="headerlink" href="#id57" title="Permalink to this heading">#</a></h3>
<p>Determines the shape of an array.</p>
</section>
<section id="id58">
<h3><strong>Arguments</strong><a class="headerlink" href="#id58" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>source</strong></dt><dd><p>Shall be an array or scalar of any type. If <strong>source</strong> is a pointer it
must be associated and allocatable arrays must be allocated.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>kind</strong></dt><dd><p>(Optional) An <em>integer</em> initialization expression indicating the kind
parameter of the result.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id59">
<h3><strong>Returns</strong><a class="headerlink" href="#id59" title="Permalink to this heading">#</a></h3>
<p>An <em>integer</em> array of rank one with as many elements as <strong>source</strong> has
dimensions. The elements of the resulting array correspond to the extend
of <strong>source</strong> along the respective dimensions. If <strong>source</strong> is a scalar, the
result is the rank one array of size zero. If <strong>kind</strong> is absent, the return
value has the default integer kind otherwise the specified kind.</p>
</section>
<section id="id60">
<h3><strong>Examples</strong><a class="headerlink" href="#id60" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_shape</span>
<span class="k">implicit none</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="k">all</span><span class="o">=</span><span class="s1">&#39;(*(g0,1x))&#39;</span>
<span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;shape of array=&#39;</span><span class="p">,</span><span class="nb">shape</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;shape of constant=&#39;</span><span class="p">,</span><span class="nb">shape</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;size of shape of constant=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="nb">shape</span><span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ubound of array=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;lbound of array=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">end program </span><span class="n">demo_shape</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   shape of array= 3 4
   shape of constant=
   size of shape of constant= 0
   ubound of array= 1 2
   lbound of array= -1 -1
</pre></div>
</div>
</section>
<section id="id61">
<h3><strong>Standard</strong><a class="headerlink" href="#id61" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later; with KIND argument Fortran 2003 and later</p>
</section>
<section id="id62">
<h3><strong>See Also</strong><a class="headerlink" href="#id62" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#reshape"><span class="std std-doc"><strong>reshape</strong>(3)</span></a>,
<a class="reference internal" href="#size"><span class="std std-doc"><strong>size</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="size">
<h2>size<a class="headerlink" href="#size" title="Permalink to this heading">#</a></h2>
<section id="id63">
<h3><strong>Name</strong><a class="headerlink" href="#id63" title="Permalink to this heading">#</a></h3>
<p><strong>size</strong>(3) - [ARRAY INQUIRY] Determine the size of an array</p>
</section>
<section id="id64">
<h3><strong>Syntax</strong><a class="headerlink" href="#id64" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="nb">kind</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id65">
<h3><strong>Description</strong><a class="headerlink" href="#id65" title="Permalink to this heading">#</a></h3>
<p>Determine the extent of <strong>array</strong> along a specified dimension <strong>dim</strong>,
or the total number of elements in <strong>array</strong> if <strong>dim</strong> is absent.</p>
</section>
<section id="id66">
<h3><strong>Arguments</strong><a class="headerlink" href="#id66" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>be an array of any type. If <strong>array</strong> is a pointer it must be
associated and allocatable arrays must be allocated.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>shall be a scalar of type <em>integer</em> and its value shall be
in the range from 1 to n, where n equals the rank of <strong>array</strong>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>kind</strong></dt><dd><p>An <em>integer</em> initialization expression indicating the kind
parameter of the result.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id67">
<h3><strong>Returns</strong><a class="headerlink" href="#id67" title="Permalink to this heading">#</a></h3>
<p>The return value is of type <em>integer</em> and of kind <strong>kind</strong>. If <strong>kind</strong>
is absent, the return value is of default <em>integer</em> kind.</p>
</section>
<section id="id68">
<h3><strong>Examples</strong><a class="headerlink" href="#id68" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_size</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="mi">5</span><span class="p">)</span><span class="o">=</span><span class="nb">reshape</span><span class="p">([(((</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">11</span><span class="o">+</span><span class="n">j</span><span class="p">,</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">11</span><span class="p">])</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;SIZE of simple one-dimensional array=&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="n">size</span><span class="p">([</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="w"> </span><span class="p">])</span><span class="w">    </span><span class="c">! 3</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;body&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SHAPE(arr)       :&#39;</span><span class="p">,</span><span class="nb">shape</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SIZE(arr)        :&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SIZE(arr,DIM=1)  :&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SIZE(arr,DIM=2)  :&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;note lower bound is not &quot;1&quot;&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr)      :&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;UBOUND(arr)      :&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr,DIM=1):&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;UBOUND(arr,DIM=1):&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr,DIM=2):&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;UBOUND(arr,DIM=2):&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="w">   </span><span class="k">call </span><span class="n">interfaced</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">call </span><span class="n">nointerface</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">contains</span>

<span class="k">subroutine </span><span class="n">interfaced</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="n">arr2</span><span class="p">)</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:,:)</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">arr2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">*</span><span class="p">)</span>
<span class="w">   </span><span class="c">!</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;interfaced assumed-shape arr2ay&#39;</span>
<span class="w">   </span><span class="c">!</span>
<span class="w">   </span><span class="c">! source argument of shape intrinsic at (1) must not be</span>
<span class="w">   </span><span class="c">! an assumed size array</span>
<span class="w">   </span><span class="c">!!write(*,*)&#39;SHAPE(arr2)       :&#39;,shape(arr2)</span>
<span class="w">   </span><span class="c">! The upper bound in the last dimension must appear in the reference</span>
<span class="w">   </span><span class="c">! to the assumed size array    arr2    at (1)</span>
<span class="w">   </span><span class="c">!!write(*,*)&#39;SIZE(arr2)        :&#39;,size(arr2)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SIZE(arr2,DIM=1)  :&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="c">!    dim    argument of    size    intrinsic at (1) is not</span>
<span class="w">   </span><span class="c">!a valid dimension index</span>
<span class="w">   </span><span class="c">!!write(*,*)&#39;SIZE(arr2,DIM=2)  :&#39;,size(arr2,dim=2)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;note lower bound is &quot;1&quot;&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr2)      :&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr2)      :&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>
<span class="w">   </span><span class="c">! The upper bound in the last dimension must appear in the</span>
<span class="w">   </span><span class="c">! reference to the assumed size array    arr2    at (1)</span>
<span class="w">   </span><span class="c">!!write(*,*)&#39;UBOUND(arr2)      :&#39;,ubound(arr2)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr2,DIM=1):&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;UBOUND(arr2,DIM=1):&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr2,DIM=2):&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr2</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="c">!    dim    argument of    ubound    intrinsic at (1) is not</span>
<span class="w">   </span><span class="c">! a valid dimension index</span>
<span class="w">   </span><span class="c">!!write(*,*)&#39;UBOUND(arr2,DIM=2):&#39;,ubound(arr2,dim=2)</span>
<span class="w">   </span><span class="c">!</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;interfaced&#39;</span>
<span class="w">   </span><span class="c">!</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SHAPE(arr)       :&#39;</span><span class="p">,</span><span class="nb">shape</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SIZE(arr)        :&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SIZE(arr,DIM=1)  :&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SIZE(arr,DIM=2)  :&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;note lower bound is &quot;1&quot;&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr)      :&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr)      :&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;UBOUND(arr)      :&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr,DIM=1):&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;UBOUND(arr,DIM=1):&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr,DIM=2):&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;UBOUND(arr,DIM=2):&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="c">!</span>
<span class="k">end subroutine </span><span class="n">interfaced</span>
<span class="c">!!</span>
<span class="c">! NOTE: If NOINTERFACE(3) had an assumed-shape argument with :</span>
<span class="c">!       for dimensions it could only be properly called with</span>
<span class="c">!       an explicit interface</span>
<span class="c">!!</span>
<span class="k">subroutine </span><span class="n">nointerface</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="o">*</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;nointerface&#39;</span>
<span class="w"> </span><span class="c">! SHAPE(3) CANNOT BE USED ON AN ASSUMED SIZE ARRAY</span>
<span class="w"> </span><span class="c">!!write(*,*)&#39;SHAPE(arr)       :&#39;,shape(arr)</span>
<span class="w"> </span><span class="c">!!write(*,*)&#39;SIZE(arr)        :&#39;,size(arr)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;SIZE(arr,DIM=1)  :&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w"> </span><span class="c">! CANNOT DETERMINE SIZE OF ASSUMED SIZE ARRAY LAST DIMENSION</span>
<span class="w"> </span><span class="c">!!write(*,*)&#39;SIZE(arr,DIM=2)  :&#39;,size(arr,dim=2)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;note lower bound is &quot;1&quot;&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr)      :&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w"> </span><span class="c">!!write(*,*)&#39;UBOUND(arr)      :&#39;,ubound(arr)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr,DIM=1):&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;UBOUND(arr,DIM=1):&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;LBOUND(arr,DIM=2):&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w"> </span><span class="c">!!write(*,*)&#39;UBOUND(arr,DIM=2):&#39;,ubound(arr,dim=2)</span>
<span class="k">end subroutine </span><span class="n">nointerface</span>
<span class="c">!!</span>
<span class="k">end program </span><span class="n">demo_size</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    SIZE of simple one-dimensional array=           3
    body
    SHAPE(arr)       :           3          11
    SIZE(arr)        :          33
    SIZE(arr,DIM=1)  :           3
    SIZE(arr,DIM=2)  :          11
    note lower bound is not &quot;1&quot;
    LBOUND(arr)      :           0          -5
    UBOUND(arr)      :           2           5
    LBOUND(arr,DIM=1):           0
    UBOUND(arr,DIM=1):           2
    LBOUND(arr,DIM=2):          -5
    UBOUND(arr,DIM=2):           5
    interfaced assumed-shape arr2ay
    SIZE(arr2,DIM=1)  :           2
    note lower bound is &quot;1&quot;
    LBOUND(arr2)      :           1           1
    LBOUND(arr2)      :           1           1
    LBOUND(arr2,DIM=1):           1
    UBOUND(arr2,DIM=1):           2
    LBOUND(arr2,DIM=2):           1
    interfaced
    SHAPE(arr)       :           3          11
    SIZE(arr)        :          33
    SIZE(arr,DIM=1)  :           3
    SIZE(arr,DIM=2)  :          11
    note lower bound is &quot;1&quot;
    LBOUND(arr)      :           1           1
    LBOUND(arr)      :           1           1
    UBOUND(arr)      :           3          11
    LBOUND(arr,DIM=1):           1
    UBOUND(arr,DIM=1):           3
    LBOUND(arr,DIM=2):           1
    UBOUND(arr,DIM=2):          11
    nointerface
    SIZE(arr,DIM=1)  :           3
    note lower bound is &quot;1&quot;
    LBOUND(arr)      :           1           1
    LBOUND(arr,DIM=1):           1
    UBOUND(arr,DIM=1):           3
    LBOUND(arr,DIM=2):           1
</pre></div>
</div>
</section>
<section id="id69">
<h3><strong>Standard</strong><a class="headerlink" href="#id69" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later, with <strong>kind</strong> argument - Fortran 2003 and later</p>
</section>
<section id="id70">
<h3><strong>See Also</strong><a class="headerlink" href="#id70" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#shape"><span class="std std-doc"><strong>shape</strong>(3)</span></a>,
[<strong>reshape</strong>(3)])(RESHAPE)</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="ubound">
<h2>ubound<a class="headerlink" href="#ubound" title="Permalink to this heading">#</a></h2>
<section id="id71">
<h3><strong>Name</strong><a class="headerlink" href="#id71" title="Permalink to this heading">#</a></h3>
<p><strong>ubound</strong>(3) - [ARRAY INQUIRY] Upper dimension bounds of an array</p>
</section>
<section id="id72">
<h3><strong>Syntax</strong><a class="headerlink" href="#id72" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">ubound</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="nb">kind</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id73">
<h3><strong>Description</strong><a class="headerlink" href="#id73" title="Permalink to this heading">#</a></h3>
<p>Returns the upper bounds of an array, or a single upper bound along the
<strong>dim</strong> dimension.</p>
</section>
<section id="id74">
<h3><strong>Arguments</strong><a class="headerlink" href="#id74" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array, of any type.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(Optional) Shall be a scalar <em>integer</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>kind</strong></dt><dd><p>(Optional) An <em>integer</em> initialization expression indicating the kind
parameter of the result.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id75">
<h3><strong>Returns</strong><a class="headerlink" href="#id75" title="Permalink to this heading">#</a></h3>
<p>The return value is of type <em>integer</em> and of kind <strong>kind</strong>. If <strong>kind</strong>
is absent, the return value is of default integer kind.</p>
<p>If <strong>dim</strong> is absent, the result is an array of the upper bounds of
<strong>array</strong>.</p>
<p>If <strong>dim</strong> is present, the result is a scalar corresponding to the upper
bound of the array along that dimension.</p>
<p>If <strong>array</strong> is an expression rather than a whole array or array
structure component, or if it has a zero extent along the relevant
dimension, the upper bound is taken to be the number of elements along
the relevant dimension.</p>
</section>
<section id="id76">
<h3><strong>Examples</strong><a class="headerlink" href="#id76" title="Permalink to this heading">#</a></h3>
<p>Note this function should not be used on assumed-size arrays or in any
function without an explicit interface. Errors can occur if there is no
interface defined.</p>
<p>Sample program</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">! program demo_ubound</span>
<span class="k">module </span><span class="n">m2_bounds</span>
<span class="k">implicit none</span>

<span class="k">contains</span>

<span class="k">subroutine </span><span class="n">msub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="c">!!integer,intent(in) :: arr(*)  ! cannot be assumed-size array</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;MSUB: LOWER=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="s1">&#39;UPPER=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;SIZE=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">end subroutine </span><span class="n">msub</span>

<span class="k">end module </span><span class="n">m2_bounds</span>

<span class="k">use </span><span class="n">m2_bounds</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">msub</span>
<span class="k">implicit none</span>
<span class="k">interface</span>
<span class="k">   subroutine </span><span class="n">esub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:)</span>
<span class="w">   </span><span class="k">end subroutine </span><span class="n">esub</span>
<span class="k">end interface</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">:</span><span class="mi">10</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;MAIN: LOWER=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="s1">&#39;UPPER=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;SIZE=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">call </span><span class="n">csub</span><span class="p">()</span>
<span class="w">   </span><span class="k">call </span><span class="n">msub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">call </span><span class="n">esub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">contains</span>
<span class="k">subroutine </span><span class="n">csub</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;CSUB: LOWER=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="s1">&#39;UPPER=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;SIZE=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">end subroutine </span><span class="n">csub</span>

<span class="k">end</span>

<span class="k">subroutine </span><span class="n">esub</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:)</span>
<span class="w">   </span><span class="c">! WARNING: IF CALLED WITHOUT AN EXPLICIT INTERFACE</span>
<span class="w">   </span><span class="c">! THIS WILL GIVE UNDEFINED ANSWERS (like 0,0,0)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;ESUB: LOWER=&#39;</span><span class="p">,</span><span class="nb">lbound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="s1">&#39;UPPER=&#39;</span><span class="p">,</span><span class="nb">ubound</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;SIZE=&#39;</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="k">end subroutine </span><span class="n">esub</span>
<span class="c">!end program demo_ubound</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  MAIN: LOWER=         -10 UPPER=          10 SIZE=          21
  CSUB: LOWER=         -10 UPPER=          10 SIZE=          21
  MSUB: LOWER=           1 UPPER=          21 SIZE=          21
  ESUB: LOWER=           1 UPPER=          21 SIZE=          21
</pre></div>
</div>
</section>
<section id="id77">
<h3><strong>Standard</strong><a class="headerlink" href="#id77" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later, with KIND argument Fortran 2003
and later</p>
</section>
<section id="id78">
<h3><strong>See Also</strong><a class="headerlink" href="#id78" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#lbound"><span class="std std-doc"><strong>lbound</strong>(3)</span></a>,
<span class="xref myst"><strong>co_ubound</strong>(3)</span>,
[<strong>co_lbound</strong>(3)(co_lbound)]</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="maxloc">
<h2>maxloc<a class="headerlink" href="#maxloc" title="Permalink to this heading">#</a></h2>
<section id="id79">
<h3><strong>Name</strong><a class="headerlink" href="#id79" title="Permalink to this heading">#</a></h3>
<p><strong>maxloc</strong>(3) - [ARRAY:LOCATION] Location of the maximum value within an array</p>
</section>
<section id="id80">
<h3><strong>Syntax</strong><a class="headerlink" href="#id80" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">maxloc</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">maxloc</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id81">
<h3><strong>Description</strong><a class="headerlink" href="#id81" title="Permalink to this heading">#</a></h3>
<p>Determines the location of the element in the array with the maximum
value, or, if the <strong>dim</strong> argument is supplied, determines the locations
of the maximum element along each row of the array in the <strong>dim</strong>
direction. If <strong>mask</strong> is present, only the elements for which <strong>mask</strong>
is <strong>.true.</strong> are considered. If more than one element in the array has
the maximum value, the location returned is that of the first such element
in array element order. If the array has zero size, or all of the elements
of <strong>mask</strong> are .false., then the result is an array of zeroes. Similarly,
if <strong>dim</strong> is supplied and all of the elements of <strong>mask</strong> along a given
row are zero, the result value for that row is zero.</p>
</section>
<section id="id82">
<h3><strong>Arguments</strong><a class="headerlink" href="#id82" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array of type <em>integer</em>, <em>real</em>, or <em>character</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(Optional) Shall be a scalar of type <em>integer</em>, with a value between
one and the rank of <strong>array</strong>, inclusive. It may not be an optional
dummy argument.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>Shall be an array of type <em>logical</em>, and conformable with <strong>array</strong>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id83">
<h3><strong>Returns</strong><a class="headerlink" href="#id83" title="Permalink to this heading">#</a></h3>
<p>If <strong>dim</strong> is absent, the result is a rank-one array with a length equal
to the rank of <strong>array</strong>. If <strong>dim</strong> is present, the result is an array
with a rank one less than the rank of <strong>array</strong>, and a size corresponding
to the size of <strong>array</strong> with the <strong>dim</strong> dimension removed. If <strong>dim</strong>
is present and <strong>array</strong> has a rank of one, the result is a scalar. In
all cases, the result is of default <em>integer</em> type.</p>
<p>The value returned is reference to the offset from the beginning of the
array, not necessarily the subscript value if the array subscripts do
not start with one.</p>
</section>
<section id="id84">
<h3><strong>Examples</strong><a class="headerlink" href="#id84" title="Permalink to this heading">#</a></h3>
<p>sample program</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_maxloc</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w">      </span><span class="kd">::</span><span class="w"> </span><span class="n">ii</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">save</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="mi">3</span><span class="p">)</span><span class="o">=</span><span class="p">[(</span><span class="nb">abs</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span><span class="o">-</span><span class="mi">50</span><span class="p">),</span><span class="n">ii</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">save</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">ints</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">([&amp;</span>
<span class="w">   </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w">  </span><span class="mi">4</span><span class="p">,</span><span class="w">  </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w"> </span><span class="mi">55</span><span class="w">  </span><span class="p">&amp;</span>
<span class="p">],</span><span class="nb">shape</span><span class="p">(</span><span class="n">ints</span><span class="p">),</span><span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">maxloc</span><span class="p">(</span><span class="n">ints</span><span class="p">)</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">maxloc</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">maxloc</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="c">! when array bounds do not start with one remember MAXLOC(3) returns the</span>
<span class="w">    </span><span class="c">! offset relative to the lower bound-1 of the location of the maximum</span>
<span class="w">    </span><span class="c">! value, not the subscript of the maximum value. When the lower bound of</span>
<span class="w">    </span><span class="c">! the array is one, these values are the same. In other words, MAXLOC(3)</span>
<span class="w">    </span><span class="c">! returns the subscript of the value assuming the first subscript of the</span>
<span class="w">    </span><span class="c">! array is one no matter what the lower bound of the subscript actually</span>
<span class="w">    </span><span class="c">! is.</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(g0,1x,g0)&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">ii</span><span class="p">,</span><span class="n">i</span><span class="p">(</span><span class="n">ii</span><span class="p">),</span><span class="n">ii</span><span class="o">=</span><span class="nb">lbound</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="nb">ubound</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nb">maxloc</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="k">end program </span><span class="n">demo_maxloc</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>      3       5
      3       3       3       3       3
      5       5       5
   -3 47
   -2 48
   -1 49
   0 50
   1 49
   2 48
   3 47
</pre></div>
</div>
</section>
<section id="id85">
<h3><strong>Standard</strong><a class="headerlink" href="#id85" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id86">
<h3><strong>See Also</strong><a class="headerlink" href="#id86" title="Permalink to this heading">#</a></h3>
<p><span class="xref myst"><strong>max</strong>(3)</span>,
<a class="reference internal" href="#maxval"><span class="std std-doc"><strong>maxval</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="minloc">
<h2>minloc<a class="headerlink" href="#minloc" title="Permalink to this heading">#</a></h2>
<section id="id87">
<h3><strong>Name</strong><a class="headerlink" href="#id87" title="Permalink to this heading">#</a></h3>
<p><strong>minloc</strong>(3) - [ARRAY:LOCATION] Location of the minimum value within an array</p>
</section>
<section id="id88">
<h3><strong>Syntax</strong><a class="headerlink" href="#id88" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">minloc</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">minloc</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id89">
<h3><strong>Description</strong><a class="headerlink" href="#id89" title="Permalink to this heading">#</a></h3>
<p>Determines the location of the element in the array with the minimum
value, or, if the <strong>dim</strong> argument is supplied, determines the locations of
the minimum element along each row of the array in the <strong>dim</strong> direction. If
<strong>mask</strong> is present, only the elements for which <strong>mask</strong> is <strong>.true.</strong> are
considered. If more than one element in the array has the minimum value,
the location returned is that of the first such element in array element
order. If the array has zero size, or all of the elements of <strong>mask</strong> are
.false., then the result is an array of zeroes. Similarly, if <strong>dim</strong> is
supplied and all of the elements of <strong>mask</strong> along a given row are zero, the
result value for that row is zero.</p>
</section>
<section id="id90">
<h3><strong>Arguments</strong><a class="headerlink" href="#id90" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array of type <em>integer</em>, <em>real</em>, or <em>character</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(Optional) Shall be a scalar of type <em>integer</em>, with a value between
one and the rank of <strong>array</strong>, inclusive. It may not be an optional
dummy argument.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>Shall be an array of type <em>logical</em>, and conformable with <strong>array</strong>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id91">
<h3><strong>Returns</strong><a class="headerlink" href="#id91" title="Permalink to this heading">#</a></h3>
<p>If <strong>dim</strong> is absent, the result is a rank-one array with a length equal to
the rank of <strong>array</strong>. If <strong>dim</strong> is present, the result is an array with a rank
one less than the rank of <strong>array</strong>, and a size corresponding to the size of
<strong>array</strong> with the <strong>dim</strong> dimension removed. If <strong>dim</strong> is present and <strong>array</strong> has a
rank of one, the result is a scalar. In all cases, the result is of
default <em>integer</em> type.</p>
</section>
<section id="id92">
<h3><strong>Examples</strong><a class="headerlink" href="#id92" title="Permalink to this heading">#</a></h3>
<p>sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_minloc</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">save</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">ints</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">([&amp;</span>
<span class="w">   </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">  </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">  </span><span class="mi">14</span><span class="p">,</span><span class="w">  </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="p">&amp;</span>
<span class="p">],</span><span class="nb">shape</span><span class="p">(</span><span class="n">ints</span><span class="p">),</span><span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">minloc</span><span class="p">(</span><span class="n">ints</span><span class="p">)</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">minloc</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">minloc</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="c">! where in each column is the smallest number .gt. 10 ?</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">minloc</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">ints</span><span class="p">.</span><span class="n">gt</span><span class="p">.</span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="c">! a one-dimensional array with dim=1 explicitly listed returns a scalar</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">minloc</span><span class="p">(</span><span class="nb">pack</span><span class="p">(</span><span class="n">ints</span><span class="p">,.</span><span class="n">true</span><span class="p">.),</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c">! scalar</span>
<span class="k">end program </span><span class="n">demo_minloc</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>         1       3
         1       3       1       3       2
         3       5       4
         5       4       3
         7
</pre></div>
</div>
</section>
<section id="id93">
<h3><strong>Standard</strong><a class="headerlink" href="#id93" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id94">
<h3><strong>See Also</strong><a class="headerlink" href="#id94" title="Permalink to this heading">#</a></h3>
<p><span class="xref myst"><strong>min</strong>(3)</span>,
<a class="reference internal" href="#minval"><span class="std std-doc"><strong>minval</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="findloc">
<h2>findloc<a class="headerlink" href="#findloc" title="Permalink to this heading">#</a></h2>
<section id="id95">
<h3><strong>Name</strong><a class="headerlink" href="#id95" title="Permalink to this heading">#</a></h3>
<p><strong>findloc</strong>(3) - [ARRAY:LOCATION] Location of first element of ARRAY identified by MASK along dimension DIM having a value</p>
</section>
<section id="id96">
<h3><strong>Syntax</strong><a class="headerlink" href="#id96" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="nb">findloc</span><span class="w"> </span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="nb">kind</span><span class="p">,</span><span class="w"> </span><span class="n">back</span><span class="p">)</span>

<span class="nb">or</span>

<span class="nb">findloc</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="nb">kind</span><span class="p">,</span><span class="w"> </span><span class="n">back</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id97">
<h3><strong>Description</strong><a class="headerlink" href="#id97" title="Permalink to this heading">#</a></h3>
<p>Location of the first element of <strong>array</strong> identified by <strong>mask</strong> along
dimension <strong>dim</strong> having a value equal to <strong>value</strong>.</p>
<p>If both <strong>array</strong> and <strong>value</strong> are of type logical, the comparison is
performed with the <strong>.eqv.</strong> operator; otherwise, the comparison is
performed with the == operator. If the value of the comparison is
true, that element of <strong>array</strong> matches <strong>value</strong>.</p>
<p>If only one element matches <strong>value</strong>, that element’s subscripts are
returned. Otherwise, if more than one element matches <strong>value</strong> and
<strong>back</strong> is absent or present with the value false, the element whose
subscripts are returned is the first such element, taken in array
element order. If <strong>back</strong> is present with the value true, the element
whose subscripts are returned is the last such element, taken in array
element order.</p>
</section>
<section id="options">
<h3><strong>Options</strong><a class="headerlink" href="#options" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>shall be an array of intrinsic type.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>value</strong></dt><dd><p>shall be scalar and in type conformance with <strong>array</strong>, as specified
in Table 7.3 for relational intrinsic operations 7.1.5.5.2).</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>shall be an integer scalar with a value in the range 1 <strong>DIM</strong> n, where
n is the rank of <strong>array</strong>. The corresponding actual argument shall
not be an optional dummy argument.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>(optional) shall be of type logical and shall be conformable with
<strong>array</strong>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>kind</strong></dt><dd><p>(optional) shall be a scalar integer initialization expression.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>back</strong></dt><dd><p>(optional) shall be a logical scalar.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id98">
<h3><strong>Returns</strong><a class="headerlink" href="#id98" title="Permalink to this heading">#</a></h3>
<p>Result Characteristics. Integer. If <strong>kind</strong> is present, the kind type
parameter is that specified by the value of <strong>kind</strong>; otherwise the kind
type parameter is that of default integer type. If <strong>dim</strong> does not appear,
the result is an array of rank one and of size equal to the rank of
<strong>array</strong>; otherwise, the result is of rank n - 1 and shape</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="p">[</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span><span class="p">,</span> <span class="n">dDIM</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">dDIM</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span><span class="p">,</span> <span class="n">dn</span> <span class="p">]</span>
</pre></div>
</div>
<p>where</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="p">[</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span><span class="p">,</span> <span class="n">dn</span> <span class="p">]</span>
</pre></div>
</div>
<p>is the shape of <strong>array</strong>.</p>
</section>
<section id="id99">
<h3><strong>Returns</strong><a class="headerlink" href="#id99" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Case (i):</strong>
The result of <strong>findloc (array, value)</strong> is a rank-one array whose
element values are the values of the subscripts of an element of
<strong>array</strong> whose value matches <strong>value</strong>. If there is such a value, the
ith subscript returned lies in the range 1 to ei, where ei is the
extent of the ith dimension of <strong>array</strong>. If no elements match <strong>value</strong>
or <strong>array</strong> has size zero, all elements of the result are zero.</p></li>
<li><p><strong>Case (ii):</strong>
the result of <strong>findloc (array, value, mask = mask)</strong> is a
rank-one array whose element values are the values of the subscripts
of an element of <strong>array</strong>, corresponding to a true element of <strong>mask</strong>,
whose value matches <strong>value</strong>. If there is such a value, the ith
subscript returned lies in the range 1 to ei, where ei is the
extent of the ith dimension of <strong>array</strong>. If no elements match
<strong>value</strong>, <strong>array</strong> has size zero, or every element of <strong>mask</strong> has the
value false, all elements of the result are zero.</p></li>
<li><p><strong>Case (iii):</strong>
If <strong>array</strong> has rank one, the result of</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">findloc</span> <span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="n">dim</span> <span class="p">[,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span><span class="p">])</span>
</pre></div>
</div>
<p>is a scalar whose value is equal to that of the first element of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">findloc</span> <span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">value</span> <span class="p">[,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span><span class="p">])</span>
</pre></div>
</div>
<p>Otherwise, the value of element</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span><span class="p">,</span> <span class="n">sDIM</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">sDIM</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span><span class="p">,</span> <span class="n">sn</span> <span class="p">)</span>
</pre></div>
</div>
<p>of the result is equal to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">findloc</span> <span class="p">(</span><span class="n">array</span> <span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">sdim</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:,</span> <span class="n">sdim</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">sn</span> <span class="p">),</span> <span class="o">&amp;</span>
      <span class="n">value</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span> <span class="p">[,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span> <span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">sdim</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:,</span>
                      <span class="n">sdim</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">sn</span> <span class="p">)])</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="id100">
<h3><strong>Examples</strong><a class="headerlink" href="#id100" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Case (i):</strong>
The value of</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">findloc</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,],</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p>is [2], and the value of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">findloc</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">back</span> <span class="o">=</span> <span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>
</pre></div>
</div>
<p>is [4].</p>
<ul class="simple">
<li><p><strong>Case (ii):</strong>
If <strong>a</strong> has the value</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>      0 -5  7 7
      3  4 -1 2
      1  5  6 7
</pre></div>
</div>
<p>and <strong>m</strong> has the value</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>       T T F T
       T T F T
       T T F T

      findloc (a, 7, mask = m)
</pre></div>
</div>
<p>has the value [1, 4] and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">findloc</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">m</span><span class="p">,</span> <span class="n">back</span> <span class="o">=</span> <span class="o">.</span><span class="n">true</span><span class="o">.</span><span class="p">)</span>
</pre></div>
</div>
<p>has the value [3, 4]. This is independent of the declared lower
bounds for <strong>a</strong> .</p>
<ul class="simple">
<li><p><strong>Case (iii):</strong>
The value of</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">findloc</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>is 2. If <strong>b</strong> has the value</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>       <span class="mi">1</span> <span class="mi">2</span> <span class="o">-</span><span class="mi">9</span>
       <span class="mi">2</span> <span class="mi">2</span>  <span class="mi">6</span>
</pre></div>
</div>
<blockquote>
<div><p>findloc (b, <strong>value</strong> = 2, dim = 1)</p>
</div></blockquote>
<p>has the value [2, 1, 0] and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">findloc</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dim</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>has the value [2, 1]. This is independent of the declared lower
bounds for <strong>b</strong>.</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="transpose">
<h2>transpose<a class="headerlink" href="#transpose" title="Permalink to this heading">#</a></h2>
<section id="id101">
<h3><strong>Name</strong><a class="headerlink" href="#id101" title="Permalink to this heading">#</a></h3>
<p><strong>transpose</strong>(3) - [ARRAY MANIPULATION] Transpose an array of rank two</p>
</section>
<section id="id102">
<h3><strong>Syntax</strong><a class="headerlink" href="#id102" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">transpose</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id103">
<h3><strong>Description</strong><a class="headerlink" href="#id103" title="Permalink to this heading">#</a></h3>
<p>Transpose an array of rank two. Element (i, j) of the result has the
value <strong>matrix(j, i)</strong>, for all i, j.</p>
</section>
<section id="id104">
<h3><strong>Arguments</strong><a class="headerlink" href="#id104" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>matrix</strong></dt><dd><p>Shall be an array of any type and have a rank of two.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id105">
<h3><strong>Returns</strong><a class="headerlink" href="#id105" title="Permalink to this heading">#</a></h3>
<p>The result has the same type as <strong>matrix</strong>, and has shape [ m, n ] if
<strong>matrix</strong> has shape [ n, m ].</p>
</section>
<section id="id106">
<h3><strong>Examples</strong><a class="headerlink" href="#id106" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_transpose</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">save</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">xx</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">([&amp;</span>
<span class="w">    </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w">  </span><span class="mi">4</span><span class="p">,</span><span class="w">  </span><span class="mi">5</span><span class="p">,</span><span class="w">    </span><span class="p">&amp;</span>
<span class="w">   </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">    </span><span class="p">&amp;</span>
<span class="w">   </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1055</span><span class="w">  </span><span class="p">&amp;</span>
<span class="w"> </span><span class="p">],</span><span class="nb">shape</span><span class="p">(</span><span class="n">xx</span><span class="p">),</span><span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;xx array:&#39;</span><span class="p">,</span><span class="n">xx</span><span class="p">)</span>
<span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;xx array transposed:&#39;</span><span class="p">,</span><span class="nb">transpose</span><span class="p">(</span><span class="n">xx</span><span class="p">))</span>

<span class="k">contains</span>

<span class="k">subroutine </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="n">title</span><span class="p">,</span><span class="n">arr</span><span class="p">)</span>
<span class="c">! print small 2d integer arrays in row-column format</span>
<span class="k">implicit none</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">title</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">           </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:,:)</span>
<span class="kt">integer</span><span class="w">                      </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">biggest</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nb">trim</span><span class="p">(</span><span class="n">title</span><span class="p">)</span><span class="w">  </span><span class="c">! print title</span>
<span class="w">   </span><span class="n">biggest</span><span class="o">=</span><span class="s1">&#39;           &#39;</span><span class="w">  </span><span class="c">! make buffer to write integer into</span>
<span class="w">   </span><span class="c">! find how many characters to use for integers</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="n">biggest</span><span class="p">,</span><span class="s1">&#39;(i0)&#39;</span><span class="p">)</span><span class="nb">ceiling</span><span class="p">(</span><span class="n">log10</span><span class="p">(</span><span class="kt">real</span><span class="p">(</span><span class="nb">maxval</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">arr</span><span class="p">)))))</span><span class="o">+</span><span class="mi">2</span>
<span class="w">   </span><span class="c">! use this format to write a row</span>
<span class="w">   </span><span class="n">biggest</span><span class="o">=</span><span class="s1">&#39;(&quot; &gt; [&quot;,*(i&#39;</span><span class="o">//</span><span class="nb">trim</span><span class="p">(</span><span class="n">biggest</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;:,&quot;,&quot;))&#39;</span>
<span class="w">   </span><span class="c">! print one row of array at a time</span>
<span class="w">   </span><span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="n">biggest</span><span class="p">,</span><span class="n">advance</span><span class="o">=</span><span class="s1">&#39;no&#39;</span><span class="p">)</span><span class="n">arr</span><span class="p">(</span><span class="n">i</span><span class="p">,:)</span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(&quot; ]&quot;)&#39;</span><span class="p">)</span>
<span class="w">   </span><span class="k">enddo</span>
<span class="k">end subroutine </span><span class="n">print_matrix_int</span>

<span class="k">end program </span><span class="n">demo_transpose</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">xx</span> <span class="n">array</span><span class="p">:</span>
    <span class="o">&gt;</span> <span class="p">[</span>     <span class="mi">1</span><span class="p">,</span>     <span class="mi">2</span><span class="p">,</span>     <span class="mi">3</span><span class="p">,</span>     <span class="mi">4</span><span class="p">,</span>     <span class="mi">5</span> <span class="p">]</span>
    <span class="o">&gt;</span> <span class="p">[</span>    <span class="mi">10</span><span class="p">,</span>    <span class="mi">20</span><span class="p">,</span>    <span class="mi">30</span><span class="p">,</span>    <span class="mi">40</span><span class="p">,</span>    <span class="mi">50</span> <span class="p">]</span>
    <span class="o">&gt;</span> <span class="p">[</span>    <span class="mi">11</span><span class="p">,</span>    <span class="mi">22</span><span class="p">,</span>    <span class="mi">33</span><span class="p">,</span>    <span class="mi">44</span><span class="p">,</span> <span class="o">-</span><span class="mi">1055</span> <span class="p">]</span>
    <span class="n">xx</span> <span class="n">array</span> <span class="n">transposed</span><span class="p">:</span>
    <span class="o">&gt;</span> <span class="p">[</span>     <span class="mi">1</span><span class="p">,</span>    <span class="mi">10</span><span class="p">,</span>    <span class="mi">11</span> <span class="p">]</span>
    <span class="o">&gt;</span> <span class="p">[</span>     <span class="mi">2</span><span class="p">,</span>    <span class="mi">20</span><span class="p">,</span>    <span class="mi">22</span> <span class="p">]</span>
    <span class="o">&gt;</span> <span class="p">[</span>     <span class="mi">3</span><span class="p">,</span>    <span class="mi">30</span><span class="p">,</span>    <span class="mi">33</span> <span class="p">]</span>
    <span class="o">&gt;</span> <span class="p">[</span>     <span class="mi">4</span><span class="p">,</span>    <span class="mi">40</span><span class="p">,</span>    <span class="mi">44</span> <span class="p">]</span>
    <span class="o">&gt;</span> <span class="p">[</span>     <span class="mi">5</span><span class="p">,</span>    <span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">1055</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id107">
<h3><strong>Standard</strong><a class="headerlink" href="#id107" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="all">
<h2>all<a class="headerlink" href="#all" title="Permalink to this heading">#</a></h2>
<section id="id108">
<h3><strong>Name</strong><a class="headerlink" href="#id108" title="Permalink to this heading">#</a></h3>
<p><strong>all</strong>(3) - [ARRAY REDUCTION] determines if all the values are true</p>
</section>
<section id="id109">
<h3><strong>Syntax</strong><a class="headerlink" href="#id109" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">all</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id110">
<h3><strong>Description</strong><a class="headerlink" href="#id110" title="Permalink to this heading">#</a></h3>
<p>Logical conjunction of elements of <strong>mask</strong> along dimension <strong>dim</strong>.</p>
<p>“<strong>all(mask, dim)</strong>” determines if all the values are true in <strong>mask</strong>
in the array along dimension <strong>dim</strong>.</p>
</section>
<section id="id111">
<h3><strong>Arguments</strong><a class="headerlink" href="#id111" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>shall be a logical array. That is, the type of the argument shall be
<em>logical</em> and it shall not be scalar.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(optional) <strong>dim</strong> shall be a scalar integer with a value that lies
between one and the rank of <strong>mask</strong>. The corresponding actual argument
shall not be an optional dummy argument.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id112">
<h3><strong>Returns</strong><a class="headerlink" href="#id112" title="Permalink to this heading">#</a></h3>
<p>“<strong>all(mask)</strong>” returns a scalar value of type <em>logical</em> where the kind
type parameter is the same as the kind type parameter of <strong>mask</strong>. If
<strong>dim</strong> is present, then <strong>all(mask, dim)</strong> returns an array with the rank
of <strong>mask</strong> minus 1. The shape is determined from the shape of <strong>mask</strong>
where the <strong>dim</strong> dimension is elided.</p>
<ol class="arabic">
<li><p><strong>all(mask)</strong> is true if all elements of <strong>mask</strong> are true. It also is
true if <strong>mask</strong> has zero size; otherwise, it is false.</p></li>
<li><p>If the rank of <strong>mask</strong> is one, then <strong>all(mask, dim)</strong> is equivalent
to <strong>all(mask)</strong>. If the rank is greater than one, then <strong>all(mask,
dim)</strong> is determined by applying <strong>all()</strong> to the array sections.</p></li>
<li><p>Result Characteristics. The result is of type <em>logical</em> with the
same kind type parameter as <strong>mask</strong>. It is scalar if <strong>dim</strong>
is absent or <strong>n = 1</strong>; otherwise, the result has rank <strong>n - 1</strong>
and shape <strong>[d1, d2, …, dDIM-1, dDIM+1, …, dn ]</strong>
where <strong>[d1, d2, …, dn ]</strong> is the shape of <strong>mask</strong>.</p></li>
<li><p>Result Value.</p>
<dl class="simple myst">
<dt>Case (i):</dt><dd><p>The result of <strong>all(mask)</strong> has the value true if all
elements of <strong>mask</strong> are true or if <strong>mask</strong> has
size zero, and the result has value false if any element
of <strong>mask</strong> is false.</p>
</dd>
<dt>Case (ii):</dt><dd><p>If <strong>mask</strong> has rank one, <strong>all(mask,dim)</strong> is equal to
<strong>all(mask)</strong>. Otherwise, the value of element <strong>(s1, s2,
…, sdim-1, sdim+1, …, sn )</strong> of all <strong>(mask,
dim)</strong> is equal to <strong>all(mask (s1, s2, …, sdim-1,
:, sdim+1, …, sn ))</strong>.</p>
</dd>
</dl>
</li>
</ol>
</section>
<section id="id113">
<h3><strong>Examples</strong><a class="headerlink" href="#id113" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_all</span>
<span class="k">implicit none</span>
<span class="kt">logical </span><span class="n">l</span>
<span class="w">   </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">all</span><span class="p">([.</span><span class="n">true</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.])</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">l</span>
<span class="w">   </span><span class="k">call </span><span class="n">section</span>

<span class="k">contains</span>

<span class="k">subroutine </span><span class="n">section</span>
<span class="kt">integer </span><span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">b</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="n">b</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">all</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">all</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="k">end subroutine </span><span class="n">section</span>
<span class="k">end program </span><span class="n">demo_all</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    T
    T F T
    T F
</pre></div>
</div>
<p>Case (i):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>     The value of all([.TRUE., .FALSE., .TRUE.]) is false.
</pre></div>
</div>
<p>Case (ii):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>                          1|3|5
   If B is the array      -+-+-
                          2|4|6

                          0|3|5
   and C is the array     -+-+-
                          7|4|8

   then all(B /= C, DIM = 1) is

      [true, false, false]

   and **all(B /= C, DIM = 2)** is

        [false, false].
</pre></div>
</div>
</section>
<section id="id114">
<h3><strong>Standard</strong><a class="headerlink" href="#id114" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="any">
<h2>any<a class="headerlink" href="#any" title="Permalink to this heading">#</a></h2>
<section id="id115">
<h3><strong>Name</strong><a class="headerlink" href="#id115" title="Permalink to this heading">#</a></h3>
<p><strong>any</strong>(3) - [ARRAY REDUCTION] determines if any of the values in the logical array are true.</p>
</section>
<section id="id116">
<h3><strong>Syntax</strong><a class="headerlink" href="#id116" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">any</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id117">
<h3><strong>Description</strong><a class="headerlink" href="#id117" title="Permalink to this heading">#</a></h3>
<p><strong>any(mask, dim)</strong> determines if any of the values in the logical
array <strong>mask</strong> along dimension <strong>dim</strong> are <strong>.true.</strong>.</p>
</section>
<section id="id118">
<h3><strong>Arguments</strong><a class="headerlink" href="#id118" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>the type of the argument shall be <em>logical</em> and it shall not be
scalar.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(optional) dim shall be a scalar integer with a value that lies
between one and the rank of mask.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id119">
<h3><strong>Returns</strong><a class="headerlink" href="#id119" title="Permalink to this heading">#</a></h3>
<p><strong>any(mask)</strong> returns a scalar value of type <em>logical</em> where the kind type
parameter is the same as the kind type parameter of <strong>mask</strong>. If <strong>dim</strong> is
present, then <strong>any(mask, dim)</strong> returns an array with the rank of <strong>mask</strong>
minus 1. The shape is determined from the shape of <strong>mask</strong> where the <strong>dim</strong>
dimension is elided.</p>
<ol class="arabic simple">
<li><p><strong>any(mask)</strong> is true if any element of <strong>mask</strong> is true; otherwise, it
is <strong>.false.</strong>. It also is false if <strong>mask</strong> has zero size.</p></li>
<li><p>If the rank of <strong>mask</strong> is one, then <strong>any(mask, dim)</strong> is equivalent to
<strong>any(mask)</strong>. If the rank is greater than one, then <strong>any(mask,
dim)</strong> is determined by applying <strong>any()</strong> to the array sections.</p></li>
</ol>
</section>
<section id="id120">
<h3><strong>Examples</strong><a class="headerlink" href="#id120" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_any</span>
<span class="k">implicit none</span>
<span class="kt">logical </span><span class="n">l</span>
<span class="w">   </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">any</span><span class="p">([.</span><span class="n">true</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.])</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">l</span>
<span class="w">   </span><span class="k">call </span><span class="n">section</span>
<span class="w">   </span><span class="k">contains</span>
<span class="k">     subroutine </span><span class="n">section</span>
<span class="w">     </span><span class="kt">integer </span><span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">b</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="w">       </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">       </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">       </span><span class="n">b</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">       </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="nb">any</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">       </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="nb">any</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="p">.</span><span class="n">eq</span><span class="p">.</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">     </span><span class="k">end subroutine </span><span class="n">section</span>
<span class="k">end program </span><span class="n">demo_any</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    T
    T T T
    T T
</pre></div>
</div>
</section>
<section id="id121">
<h3><strong>Standard</strong><a class="headerlink" href="#id121" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="count">
<h2>count<a class="headerlink" href="#count" title="Permalink to this heading">#</a></h2>
<section id="id122">
<h3><strong>Name</strong><a class="headerlink" href="#id122" title="Permalink to this heading">#</a></h3>
<p><strong>count</strong>(3) - [ARRAY REDUCTION] Count function</p>
</section>
<section id="id123">
<h3><strong>Syntax</strong><a class="headerlink" href="#id123" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">count</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="nb">kind</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id124">
<h3><strong>Description</strong><a class="headerlink" href="#id124" title="Permalink to this heading">#</a></h3>
<p>Counts the number of <strong>.true.</strong> elements in a logical <strong>mask</strong>, or, if the <strong>dim</strong>
argument is supplied, counts the number of elements along each row of
the array in the <strong>dim</strong> direction. If the array has zero size, or all of
the elements of <strong>mask</strong> are false, then the result is <strong>0</strong>.</p>
</section>
<section id="id125">
<h3><strong>Arguments</strong><a class="headerlink" href="#id125" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>The type shall be <em>logical</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(Optional) The type shall be <em>integer</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>kind</strong></dt><dd><p>(Optional) An <em>integer</em> initialization expression indicating the kind
parameter of the result.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id126">
<h3><strong>Returns</strong><a class="headerlink" href="#id126" title="Permalink to this heading">#</a></h3>
<p>The return value is of type <em>integer</em> and of kind <strong>kind</strong>. If <strong>kind</strong> is absent,
the return value is of default integer kind. If <strong>dim</strong> is present, the
result is an array with a rank one less than the rank of <strong>array</strong>, and a
size corresponding to the shape of <strong>array</strong> with the <strong>dim</strong> dimension removed.</p>
</section>
<section id="id127">
<h3><strong>Examples</strong><a class="headerlink" href="#id127" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_count</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span>
<span class="kt">logical</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">mymask</span>
<span class="w">      </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">(</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">])</span>
<span class="w">      </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">(</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">])</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">1</span><span class="p">,:)</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">,:)</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="o">*</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">(</span><span class="mi">1</span><span class="p">,:)</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">(</span><span class="mi">2</span><span class="p">,:)</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="o">*</span>
<span class="w">      </span><span class="n">mymask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">ne</span><span class="p">.</span><span class="n">b</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3l3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">mymask</span><span class="p">(</span><span class="mi">1</span><span class="p">,:)</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3l3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">mymask</span><span class="p">(</span><span class="mi">2</span><span class="p">,:)</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="o">*</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">count</span><span class="p">(</span><span class="n">mymask</span><span class="p">)</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="o">*</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">count</span><span class="p">(</span><span class="n">mymask</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="o">*</span>
<span class="w">      </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">count</span><span class="p">(</span><span class="n">mymask</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="k">end program </span><span class="n">demo_count</span>
</pre></div>
</div>
<p>Expected Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  1  3  5
  2  4  6

  0  3  5
  7  4  8

  T  F  F
  T  F  T

  3

  2  0  1

  1  2
</pre></div>
</div>
</section>
<section id="id128">
<h3><strong>Standard</strong><a class="headerlink" href="#id128" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later, with KIND argument - Fortran 2003
and later</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="maxval">
<h2>maxval<a class="headerlink" href="#maxval" title="Permalink to this heading">#</a></h2>
<section id="id129">
<h3><strong>Name</strong><a class="headerlink" href="#id129" title="Permalink to this heading">#</a></h3>
<p><strong>maxval</strong>(3) - [ARRAY REDUCTION] determines the maximum value in an array or row</p>
</section>
<section id="id130">
<h3><strong>Syntax</strong><a class="headerlink" href="#id130" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">maxval</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">maxval</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id131">
<h3><strong>Description</strong><a class="headerlink" href="#id131" title="Permalink to this heading">#</a></h3>
<p>Determines the maximum value of the elements in an array value, or, if
the <strong>dim</strong> argument is supplied, determines the maximum value along each
row of the array in the <strong>dim</strong> direction. If <strong>mask</strong> is present, only the
elements for which <strong>mask</strong> is <strong>.true.</strong> are considered. If the array has zero
size, or all of the elements of <strong>mask</strong> are .false., then the result is the
most negative number of the type and kind of <strong>array</strong> if <strong>array</strong> is numeric,
or a string of nulls if <strong>array</strong> is of character type.</p>
</section>
<section id="id132">
<h3><strong>Arguments</strong><a class="headerlink" href="#id132" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array of type <em>integer</em>, <em>real</em>, or <em>character</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(Optional) Shall be a scalar of type <em>integer</em>, with a value between
one and the rank of <strong>array</strong>, inclusive. It may not be an optional
dummy argument.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>(Optional) Shall be an array of type <em>logical</em>, and conformable with
<strong>array</strong>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id133">
<h3><strong>Returns</strong><a class="headerlink" href="#id133" title="Permalink to this heading">#</a></h3>
<p>If <strong>dim</strong> is absent, or if <strong>array</strong> has a rank of one, the result is a scalar.
If <strong>dim</strong> is present, the result is an array with a rank one less than the
rank of <strong>array</strong>, and a size corresponding to the size of <strong>array</strong> with the
<strong>dim</strong> dimension removed. In all cases, the result is of the same type and
kind as <strong>array</strong>.</p>
</section>
<section id="id134">
<h3><strong>Examples</strong><a class="headerlink" href="#id134" title="Permalink to this heading">#</a></h3>
<p>sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_maxval</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">save</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">ints</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">([&amp;</span>
<span class="w">   </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w">  </span><span class="mi">4</span><span class="p">,</span><span class="w">  </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">  </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w"> </span><span class="mi">55</span><span class="w">  </span><span class="p">&amp;</span>
<span class="p">],</span><span class="nb">shape</span><span class="p">(</span><span class="n">ints</span><span class="p">),</span><span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">maxval</span><span class="p">(</span><span class="n">ints</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">maxval</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">maxval</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="w">   </span><span class="c">! find biggest number less than 30 with mask</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">maxval</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">ints</span><span class="p">.</span><span class="n">lt</span><span class="p">.</span><span class="mi">30</span><span class="p">)</span>
<span class="k">end program </span><span class="n">demo_maxval</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="mi">55</span>
   <span class="mi">11</span>     <span class="mi">22</span>     <span class="mi">33</span>     <span class="mi">44</span>     <span class="mi">55</span>
    <span class="mi">5</span>     <span class="mi">50</span>     <span class="mi">55</span>
   <span class="mi">22</span>
</pre></div>
</div>
</section>
<section id="id135">
<h3><strong>Standard</strong><a class="headerlink" href="#id135" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id136">
<h3><strong>See Also</strong><a class="headerlink" href="#id136" title="Permalink to this heading">#</a></h3>
<p><span class="xref myst"><strong>max</strong>(3)</span>,
<a class="reference internal" href="#maxloc"><span class="std std-doc"><strong>maxloc</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="minval">
<h2>minval<a class="headerlink" href="#minval" title="Permalink to this heading">#</a></h2>
<section id="id137">
<h3><strong>Name</strong><a class="headerlink" href="#id137" title="Permalink to this heading">#</a></h3>
<p><strong>minval</strong>(3) - [ARRAY REDUCTION] Minimum value of an array</p>
</section>
<section id="id138">
<h3><strong>Syntax</strong><a class="headerlink" href="#id138" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id139">
<h3><strong>Description</strong><a class="headerlink" href="#id139" title="Permalink to this heading">#</a></h3>
<p>Determines the minimum value of the elements in an array value, or, if
the <strong>dim</strong> argument is supplied, determines the minimum value along each
row of the array in the <strong>dim</strong> direction.</p>
<p>If <strong>mask</strong> is present, only the
elements for which <strong>mask</strong> is <strong>.true.</strong> are considered.</p>
<p>If the array has zero size, or all of the elements of <strong>mask</strong> are
.false., then the result is <strong>huge(array)</strong> if <strong>array</strong> is numeric, or a
string of <strong>char(len=255)</strong> characters if <strong>array</strong> is of character type.</p>
</section>
<section id="id140">
<h3><strong>Arguments</strong><a class="headerlink" href="#id140" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array of type <em>integer</em>, <em>real</em>, or <em>character</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(Optional) Shall be a scalar of type <em>integer</em>, with a value between
one and the rank of ARRAY, inclusive. It may not be an optional
dummy argument.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>Shall be an array of type <em>logical</em>, and conformable with <strong>array</strong>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id141">
<h3><strong>Returns</strong><a class="headerlink" href="#id141" title="Permalink to this heading">#</a></h3>
<p>If <strong>dim</strong> is absent, or if <strong>array</strong> has a rank of one, the result is a scalar.</p>
<p>If <strong>dim</strong> is present, the result is an array with a rank one less than the
rank of <strong>array</strong>, and a size corresponding to the size of <strong>array</strong> with the
<strong>dim</strong> dimension removed. In all cases, the result is of the same type and
kind as <strong>array</strong>.</p>
</section>
<section id="id142">
<h3><strong>Examples</strong><a class="headerlink" href="#id142" title="Permalink to this heading">#</a></h3>
<p>sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_minval</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">g</span><span class="o">=</span><span class="s1">&#39;(3x,*(g0,1x))&#39;</span>

<span class="kt">integer</span><span class="p">,</span><span class="k">save</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">ints</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">([&amp;</span>
<span class="w">       </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w">   </span><span class="mi">3</span><span class="p">,</span><span class="w">   </span><span class="mi">4</span><span class="p">,</span><span class="w">   </span><span class="mi">5</span><span class="p">,</span><span class="w">  </span><span class="p">&amp;</span>
<span class="w">      </span><span class="mi">10</span><span class="p">,</span><span class="w">  </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="w">  </span><span class="mi">40</span><span class="p">,</span><span class="w">  </span><span class="mi">50</span><span class="p">,</span><span class="w">  </span><span class="p">&amp;</span>
<span class="w">      </span><span class="mi">11</span><span class="p">,</span><span class="w">  </span><span class="mi">22</span><span class="p">,</span><span class="w">  </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">44</span><span class="p">,</span><span class="w">  </span><span class="mi">55</span><span class="w">  </span><span class="p">&amp;</span>
<span class="p">],</span><span class="nb">shape</span><span class="p">(</span><span class="n">ints</span><span class="p">),</span><span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="kt">integer</span><span class="p">,</span><span class="k">save</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">box</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="w">   </span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="n">ints</span>
<span class="w">   </span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">2</span><span class="p">)</span><span class="o">=-</span><span class="n">ints</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;Given the array&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(1x,*(g4.4,1x))&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">ints</span><span class="p">(</span><span class="n">i</span><span class="p">,:),</span><span class="nb">new_line</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;What is the smallest element in the array?&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">ints</span><span class="p">),</span><span class="s1">&#39;at &lt;&#39;</span><span class="p">,</span><span class="nb">minloc</span><span class="p">(</span><span class="n">ints</span><span class="p">),</span><span class="s1">&#39;&gt;&#39;</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;What is the smallest element in each column?&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;What is the smallest element in each row?&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="w">   </span><span class="c">! notice the shape of the output has less columns</span>
<span class="w">   </span><span class="c">! than the input in this case</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;What is the smallest element in each column,&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;considering only those elements that are&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;greater than zero?&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ints</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39;if everything is false a zero-sized array is NOT returned&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;even for a zero-sized input&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">([</span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="p">],</span><span class="w"> </span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.)</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;a scalar answer for everything false is huge()&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">ints</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">([</span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="p">],</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.)</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;some calls with three dimensions&#39;</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"> </span><span class="p">)</span>

<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="nb">minval</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"> </span><span class="p">)</span>
<span class="w">   </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;shape of answer is &#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="nb">shape</span><span class="p">(</span><span class="nb">minval</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.</span><span class="w"> </span><span class="p">))</span>

<span class="k">end program </span><span class="n">demo_minval</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> Given the array
    1   -2    3    4    5
   10   20  -30   40   50
   11   22   33  -44   55

 What is the smallest element in the array?
   -44 at &lt; 3 4 &gt;
 What is the smallest element in each column?
   1 -2 -30 -44 5
 What is the smallest element in each row?
   -2 -30 -44
 What is the smallest element in each column,
 considering only those elements that are
 greater than zero?
   1 20 3 4 5
 if everything is false a zero-sized array is NOT returned
  2147483647  2147483647  2147483647  2147483647  2147483647
 even for a zero-sized input
   2147483647
 a scalar answer for everything false is huge()
   2147483647
   2147483647
 some calls with three dimensions
   -55
   1 -2 -30 -44 5 -11 -22 -33 -40 -55
   -2 -30 -44 -5 -50 -55
   shape of answer is  3 2
</pre></div>
</div>
</section>
<section id="id143">
<h3><strong>Standard</strong><a class="headerlink" href="#id143" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id144">
<h3><strong>See Also</strong><a class="headerlink" href="#id144" title="Permalink to this heading">#</a></h3>
<p><span class="xref myst"><strong>min</strong>(3)</span>,
<a class="reference internal" href="#minloc"><span class="std std-doc"><strong>minloc</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions (license: MIT) &#64;urbanjost</em></p>
</section>
</section>
<section id="product">
<h2>product<a class="headerlink" href="#product" title="Permalink to this heading">#</a></h2>
<section id="id145">
<h3><strong>Name</strong><a class="headerlink" href="#id145" title="Permalink to this heading">#</a></h3>
<p><strong>product</strong>(3) - [ARRAY REDUCTION] Product of array elements</p>
</section>
<section id="id146">
<h3><strong>Syntax</strong><a class="headerlink" href="#id146" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">product</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span>

<span class="w">    </span><span class="n">NUMERIC</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="k">array</span><span class="p">(..)</span>
<span class="w">    </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">),</span><span class="k">optional</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="nb">dim</span>
<span class="nb">    </span><span class="kt">logical</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">),</span><span class="k">optional</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">mask</span><span class="p">(..)</span>
</pre></div>
</div>
<p>where <strong>NUMERIC</strong> is any numeric type</p>
</section>
<section id="id147">
<h3><strong>Description</strong><a class="headerlink" href="#id147" title="Permalink to this heading">#</a></h3>
<p>Multiplies together all the selected elements of <strong>array</strong>, or along
dimension <strong>dim</strong> if the corresponding element in <strong>mask</strong> is <strong>.true.</strong>.</p>
<p>If <strong>dim</strong> is absent, a scalar with the product of all elements in <strong>array</strong> is
returned. (Note a zero-sized <strong>array</strong> returns <strong>1</strong>).</p>
<p>When <strong>dim</strong> is present, If the masked array has a dimension of one
(ie. is a vector) the result is a scalar. Otherwise, an array of rank
<strong>n-1</strong>, where <strong>n</strong> equals the rank of <strong>array</strong>, and a shape similar
to that of <strong>array</strong> with dimension <strong>dim</strong> dropped is returned.</p>
</section>
<section id="id148">
<h3><strong>Arguments</strong><a class="headerlink" href="#id148" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array of type <em>integer</em>, <em>real</em> or <em>complex</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>shall be a scalar of type <em>integer</em> with a value in the
range from <strong>1 to n</strong>, where <strong>n</strong> equals the rank of <strong>array</strong>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>shall be of type <em>logical</em> and either be a scalar or an
array of the same shape as <strong>array</strong>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id149">
<h3><strong>Returns</strong><a class="headerlink" href="#id149" title="Permalink to this heading">#</a></h3>
<p>The result is of the same type as <strong>array</strong>.</p>
</section>
<section id="id150">
<h3><strong>Examples</strong><a class="headerlink" href="#id150" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_product</span>
<span class="k">implicit none</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="k">all</span><span class="o">=</span><span class="s1">&#39;(*(g0,1x))&#39;</span><span class="w"> </span><span class="c">! a handy format</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">nl</span><span class="o">=</span><span class="nb">new_line</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>

<span class="n">NO_DIM</span><span class="p">:</span><span class="w"> </span><span class="k">block</span>
<span class="c">!    If DIM is not specified, the result is the product of all the</span>
<span class="c">!    selected array elements.</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span>
<span class="kt">integer</span><span class="p">,</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="k">array</span><span class="p">(:)</span>
<span class="w">   </span><span class="c">! all elements are selected by default</span>
<span class="w">   </span><span class="k">do </span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span>
<span class="w">      </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;factorial of &#39;</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="s1">&#39; is &#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">product</span><span class="p">([(</span><span class="kt">real</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">)])</span>
<span class="w">   </span><span class="k">enddo</span>

<span class="w">   </span><span class="c">! using a mask</span>
<span class="w">   </span><span class="k">array</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">30</span><span class="p">]</span>
<span class="w">   </span><span class="n">p1</span><span class="o">=</span><span class="nb">product</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="o">=</span><span class="nb">mod</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c">! only odd elements</span>
<span class="w">   </span><span class="n">p2</span><span class="o">=</span><span class="nb">product</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="o">=</span><span class="nb">mod</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="o">/=</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c">! only even elements</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="n">nl</span><span class="p">,</span><span class="s1">&#39;product of all elements&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="k">array</span><span class="p">)</span><span class="w"> </span><span class="c">! all elements</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39; odd * even =&#39;</span><span class="p">,</span><span class="n">nl</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="s1">&#39;=&#39;</span><span class="p">,</span><span class="n">p1</span><span class="o">*</span><span class="n">p2</span>

<span class="w">   </span><span class="c">! NOTE: If ARRAY is a zero-sized array, the result is equal to one</span>
<span class="w">   </span><span class="k">print all</span>
<span class="k">   print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;zero-sized array=&gt;&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">([</span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="p">])</span>
<span class="w">   </span><span class="c">! NOTE: If nothing in the mask is true, this also results in a null</span>
<span class="w">   </span><span class="c">!       array</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;all elements have a false mask=&gt;&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.)</span>

<span class="k">endblock </span><span class="n">NO_DIM</span>

<span class="n">WITH_DIM</span><span class="p">:</span><span class="w"> </span><span class="k">block</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">rect</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">box</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="c">!  lets fill a few arrays</span>
<span class="w">   </span><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">([</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">     </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">       </span><span class="p">&amp;</span>
<span class="w">     </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w">        </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">],</span><span class="nb">shape</span><span class="p">(</span><span class="n">rect</span><span class="p">),</span><span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;rect&#39;</span><span class="p">,</span><span class="n">rect</span><span class="p">)</span>

<span class="c">!  Find the product of each column in RECT.</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;product of columns=&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>

<span class="c">! Find the product of each row in RECT.</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;product of rows=&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>

<span class="c">! now lets try a box</span>
<span class="w">   </span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="n">rect</span>
<span class="w">   </span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">2</span><span class="p">)</span><span class="o">=</span><span class="n">rect</span><span class="o">*</span><span class="p">(</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
<span class="w">   </span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">3</span><span class="p">)</span><span class="o">=</span><span class="n">rect</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="w">   </span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">4</span><span class="p">)</span><span class="o">=</span><span class="n">rect</span><span class="o">*</span><span class="mi">2</span>
<span class="w">   </span><span class="c">! lets look at the values</span>
<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;box 1&#39;</span><span class="p">,</span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">1</span><span class="p">))</span>
<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;box 2&#39;</span><span class="p">,</span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">2</span><span class="p">))</span>
<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;box 3&#39;</span><span class="p">,</span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">3</span><span class="p">))</span>
<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;box 4&#39;</span><span class="p">,</span><span class="n">box</span><span class="p">(:,:,</span><span class="mi">4</span><span class="p">))</span>

<span class="w">   </span><span class="c">! remember without dim= even a box produces a scalar</span>
<span class="w">   </span><span class="k">print all</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;no dim gives a scalar&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="kt">real</span><span class="p">(</span><span class="n">box</span><span class="p">))</span>

<span class="w">   </span><span class="c">! only one plane has negative values, so note all the &quot;1&quot; values</span>
<span class="w">   </span><span class="c">! for vectors with no elements</span>
<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;negative values&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">box</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

<span class="c">!   If DIM is specified and ARRAY has rank greater than one, the</span>
<span class="c">!   result is a new array in which dimension DIM has been eliminated.</span>

<span class="w">   </span><span class="c">! pick a dimension to multiply though</span>
<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;dim=1&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;dim=2&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

<span class="w">   </span><span class="k">call </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="s1">&#39;dim=3&#39;</span><span class="p">,</span><span class="nb">product</span><span class="p">(</span><span class="n">box</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>

<span class="k">endblock </span><span class="n">WITH_DIM</span>

<span class="k">contains</span>

<span class="k">   subroutine </span><span class="n">print_matrix_int</span><span class="p">(</span><span class="n">title</span><span class="p">,</span><span class="n">arr</span><span class="p">)</span>
<span class="w">   </span><span class="k">implicit none</span>

<span class="w">   </span><span class="c">!@(#) print small 2d integer arrays in row-column format</span>

<span class="w">   </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">  </span><span class="kd">::</span><span class="w"> </span><span class="n">title</span>
<span class="w">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">           </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:,:)</span>
<span class="w">   </span><span class="kt">integer</span><span class="w">                      </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span>
<span class="w">   </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">biggest</span>

<span class="w">      </span><span class="k">print all</span>
<span class="k">      print all</span><span class="p">,</span><span class="w"> </span><span class="nb">trim</span><span class="p">(</span><span class="n">title</span><span class="p">),</span><span class="s1">&#39;:(&#39;</span><span class="p">,</span><span class="nb">shape</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span><span class="s1">&#39;)&#39;</span><span class="w">  </span><span class="c">! print title</span>
<span class="w">      </span><span class="n">biggest</span><span class="o">=</span><span class="s1">&#39;           &#39;</span><span class="w">  </span><span class="c">! make buffer to write integer into</span>
<span class="w">      </span><span class="c">! find how many characters to use for integers</span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="n">biggest</span><span class="p">,</span><span class="s1">&#39;(i0)&#39;</span><span class="p">)</span><span class="nb">ceiling</span><span class="p">(</span><span class="n">log10</span><span class="p">(</span><span class="kt">real</span><span class="p">(</span><span class="nb">maxval</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">arr</span><span class="p">)))))</span><span class="o">+</span><span class="mi">2</span>
<span class="w">      </span><span class="c">! use this format to write a row</span>
<span class="w">      </span><span class="n">biggest</span><span class="o">=</span><span class="s1">&#39;(&quot; &gt; [&quot;,*(i&#39;</span><span class="o">//</span><span class="nb">trim</span><span class="p">(</span><span class="n">biggest</span><span class="p">)</span><span class="o">//</span><span class="s1">&#39;:,&quot;,&quot;))&#39;</span>
<span class="w">      </span><span class="c">! print one row of array at a time</span>
<span class="w">      </span><span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="nb">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="w">         </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="n">biggest</span><span class="p">,</span><span class="n">advance</span><span class="o">=</span><span class="s1">&#39;no&#39;</span><span class="p">)</span><span class="n">arr</span><span class="p">(</span><span class="n">i</span><span class="p">,:)</span>
<span class="w">         </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="s1">&#39;(&quot; ]&quot;)&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">enddo</span>

<span class="k">   end subroutine </span><span class="n">print_matrix_int</span>

<span class="k">end program </span><span class="n">demo_product</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>factorial of  1  is  1.000000
factorial of  2  is  2.000000
factorial of  3  is  6.000000
factorial of  4  is  24.00000
factorial of  5  is  120.0000
factorial of  6  is  720.0000
factorial of  7  is  5040.000
factorial of  8  is  40320.00
factorial of  9  is  362880.0
factorial of  10  is  3628800.

 product of all elements 351000000
 odd * even =
 4875 * 72000 = 351000000

zero-sized array=&gt; 1
all elements have a false mask=&gt; 1

rect :( 2 3 )
 &gt; [  1,  2,  3 ]
 &gt; [  4,  5,  6 ]
product of columns= 4 10 18
product of rows= 6 120

box 1 :( 2 3 )
 &gt; [  1,  2,  3 ]
 &gt; [  4,  5,  6 ]

box 2 :( 2 3 )
 &gt; [  10,  20,  30 ]
 &gt; [  40,  50,  60 ]

box 3 :( 2 3 )
 &gt; [ -10, -20, -30 ]
 &gt; [ -40, -50, -60 ]

box 4 :( 2 3 )
 &gt; [   2,   4,   6 ]
 &gt; [   8,  10,  12 ]
no dim gives a scalar .1719927E+26

negative values :( 3 4 )
 &gt; [     1,     1,   400,     1 ]
 &gt; [     1,     1,  1000,     1 ]
 &gt; [     1,     1,  1800,     1 ]

dim=1 :( 3 4 )
 &gt; [     4,   400,   400,    16 ]
 &gt; [    10,  1000,  1000,    40 ]
 &gt; [    18,  1800,  1800,    72 ]

dim=2 :( 2 4 )
 &gt; [       6,    6000,   -6000,      48 ]
 &gt; [     120,  120000, -120000,     960 ]

dim=3 :( 2 3 )
 &gt; [    -200,   -3200,  -16200 ]
 &gt; [  -51200, -125000, -259200 ]
</pre></div>
</div>
</section>
<section id="id151">
<h3><strong>Standard</strong><a class="headerlink" href="#id151" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id152">
<h3><strong>See Also</strong><a class="headerlink" href="#id152" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#sum"><span class="std std-doc"><strong>sum</strong>(3)</span></a>, note that an element by element multiplication is done
directly using the star character.</p>
<p><em>fortran-lang intrinsic descriptions (license: MIT) &#64;urbanjost</em></p>
</section>
</section>
<section id="sum">
<h2>sum<a class="headerlink" href="#sum" title="Permalink to this heading">#</a></h2>
<section id="id153">
<h3><strong>Name</strong><a class="headerlink" href="#id153" title="Permalink to this heading">#</a></h3>
<p><strong>sum</strong>(3) - [ARRAY REDUCTION] sum the elements of an array</p>
</section>
<section id="id154">
<h3><strong>Syntax</strong><a class="headerlink" href="#id154" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">   </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="k">array</span><span class="p">[,</span><span class="w"> </span><span class="n">mask</span><span class="p">])</span>
<span class="w">   </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">[,</span><span class="w"> </span><span class="n">mask</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="id155">
<h3><strong>Description</strong><a class="headerlink" href="#id155" title="Permalink to this heading">#</a></h3>
<p>Adds the elements of ARRAY along dimension DIM if the corresponding
element in MASK is TRUE.</p>
</section>
<section id="id156">
<h3><strong>Arguments</strong><a class="headerlink" href="#id156" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>array</strong></dt><dd><p>Shall be an array of type <em>integer</em>, <em>real</em> or <em>complex</em>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(Optional) shall be a scalar of type <em>integer</em> with a value in the
range from 1 to n, where n equals the rank of ARRAY.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>(Optional) shall be of type <em>logical</em> and either be a scalar or an
array of the same shape as ARRAY.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id157">
<h3><strong>Returns</strong><a class="headerlink" href="#id157" title="Permalink to this heading">#</a></h3>
<p>The result is of the same type as ARRAY.</p>
<p>If <strong>dim</strong>(3) is absent, a scalar with the sum of all elements in ARRAY
is returned. Otherwise, an array of rank n-1, where n equals the rank of
ARRAY, and a shape similar to that of ARRAY with dimension DIM dropped
is returned.</p>
</section>
<section id="id158">
<h3><strong>Examples</strong><a class="headerlink" href="#id158" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">simple_sum</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">x</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">]</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">                        </span><span class="c">! all elements, sum = 15</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="o">=</span><span class="nb">mod</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span><span class="w">     </span><span class="c">! odd elements, sum = 9</span>
<span class="k">end program </span><span class="n">simple_sum</span>
</pre></div>
</div>
<p>Demonstrate Fortran 90 SUM function with MASK option</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_sum</span>
<span class="c">! John Mahaffy  2/16/96</span>
<span class="k">implicit none</span>
<span class="kt">integer </span><span class="n">nd</span><span class="p">,</span><span class="w"> </span><span class="n">ndh</span><span class="p">,</span><span class="w"> </span><span class="n">nduh</span><span class="p">,</span><span class="w"> </span><span class="n">j</span>
<span class="k">parameter</span><span class="w"> </span><span class="p">(</span><span class="n">nd</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">ndh</span><span class="o">=</span><span class="n">nd</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">nduh</span><span class="o">=</span><span class="n">nd</span><span class="o">-</span><span class="n">ndh</span><span class="p">)</span>
<span class="kt">real </span><span class="n">csum</span><span class="p">,</span><span class="w"> </span><span class="n">cpsum</span><span class="p">,</span><span class="w"> </span><span class="n">cbpsum</span>
<span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(</span><span class="n">nd</span><span class="p">)</span><span class="kd">::</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span><span class="n">nd</span><span class="o">-</span><span class="mi">2</span><span class="p">)],</span><span class="w"> </span><span class="n">b</span>
<span class="k">data </span><span class="n">b</span><span class="o">/</span><span class="n">ndh</span><span class="o">*-</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">nduh</span><span class="o">*</span><span class="mf">2.0</span><span class="o">/</span>
<span class="w">   </span><span class="n">csum</span><span class="o">=</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">nd</span><span class="p">))</span>
<span class="w">   </span><span class="n">cpsum</span><span class="o">=</span><span class="w"> </span><span class="nb">sum</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">nd</span><span class="p">),</span><span class="w"> </span><span class="n">mask</span><span class="o">=</span><span class="n">c</span><span class="p">.</span><span class="n">gt</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">   </span><span class="n">cbpsum</span><span class="o">=</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">nd</span><span class="p">),</span><span class="w"> </span><span class="n">mask</span><span class="o">=</span><span class="n">b</span><span class="p">.</span><span class="n">gt</span><span class="p">.</span><span class="mf">0.0</span><span class="p">)</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Sum of all elements in c = &#39;</span><span class="p">,</span><span class="w"> </span><span class="n">csum</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Sum of Positive elements in c = &#39;</span><span class="p">,</span><span class="w"> </span><span class="n">cpsum</span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Sum of elements in c when corresponding elements in b&gt;0&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">&amp;</span>
<span class="w">   </span><span class="p">&amp;</span><span class="w"> </span><span class="s1">&#39; =&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">cbpsum</span>
<span class="k">end program </span><span class="n">demo_sum</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> Sum of all elements in c =    35.0000000
 Sum of Positive elements in c =    36.0000000
 Sum of elements in c when corresponding elements in b&gt;0 =   30.0000000
</pre></div>
</div>
</section>
<section id="id159">
<h3><strong>Standard</strong><a class="headerlink" href="#id159" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id160">
<h3><strong>See Also</strong><a class="headerlink" href="#id160" title="Permalink to this heading">#</a></h3>
<p>intrinsics</p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
<section id="reshape">
<h2>reshape<a class="headerlink" href="#reshape" title="Permalink to this heading">#</a></h2>
<section id="id161">
<h3><strong>Name</strong><a class="headerlink" href="#id161" title="Permalink to this heading">#</a></h3>
<p><strong>reshape</strong>(3) - [ARRAY RESHAPE] Function to reshape an array</p>
</section>
<section id="id162">
<h3><strong>Syntax</strong><a class="headerlink" href="#id162" title="Permalink to this heading">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">(</span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="nb">shape</span><span class="p">,</span><span class="w"> </span><span class="n">pad</span><span class="p">,</span><span class="w"> </span><span class="n">order</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id163">
<h3><strong>Description</strong><a class="headerlink" href="#id163" title="Permalink to this heading">#</a></h3>
<p>Reshapes array <strong>source</strong> to correspond to <strong>shape</strong>. If necessary, the new
array may be padded with elements from <strong>pad</strong> or permuted as defined by
<strong>order</strong>.</p>
</section>
<section id="id164">
<h3><strong>Arguments</strong><a class="headerlink" href="#id164" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>source</strong></dt><dd><p>an array of any type.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>shape</strong></dt><dd><p>an array of rank one and type <em>integer</em>. Its values must be positive
or zero.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>pad</strong></dt><dd><p>(Optional) an array of the same type as <strong>source</strong>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>order</strong></dt><dd><p>(Optional) an array of type <em>integer</em> and the same shape as <strong>shape</strong>. Its
values shall be a permutation of the numbers from 1 to n, where n is
the size of <strong>shape</strong>. If <strong>order</strong> is absent, the natural ordering shall be
assumed.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id165">
<h3><strong>Returns</strong><a class="headerlink" href="#id165" title="Permalink to this heading">#</a></h3>
<p>The result is an array of shape <strong>shape</strong> with the same type as <strong>source</strong>.</p>
</section>
<section id="id166">
<h3><strong>Examples</strong><a class="headerlink" href="#id166" title="Permalink to this heading">#</a></h3>
<p>Sample program:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_reshape</span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span>
<span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
<span class="kt">real</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">xx</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="kt">real</span><span class="p">,</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">v</span><span class="p">(:)</span>
<span class="w">    </span><span class="c">! x is originally a vector with four elements</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">shape</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c">! what is the current shape of the array?</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="nb">shape</span><span class="p">(</span><span class="nb">reshape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]))</span><span class="w">    </span><span class="c">! prints &quot;2 2&quot;</span>

<span class="w">    </span><span class="c">! pack any array into a vector</span>
<span class="w">    </span><span class="n">xx</span><span class="o">=</span><span class="mf">1.0</span>
<span class="w">    </span><span class="n">v</span><span class="o">=</span><span class="nb">reshape</span><span class="p">(</span><span class="n">xx</span><span class="p">,[</span><span class="n">size</span><span class="p">(</span><span class="n">xx</span><span class="p">)])</span>
<span class="w">    </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nb">shape</span><span class="p">(</span><span class="n">v</span><span class="p">),</span><span class="nb">ubound</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">end program </span><span class="n">demo_reshape</span>
</pre></div>
</div>
<p>Results:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>              4
              2           2
             12          12
</pre></div>
</div>
</section>
<section id="id167">
<h3><strong>Standard</strong><a class="headerlink" href="#id167" title="Permalink to this heading">#</a></h3>
<p>Fortran 95 and later</p>
</section>
<section id="id168">
<h3><strong>See Also</strong><a class="headerlink" href="#id168" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#shape"><span class="std std-doc"><strong>shape</strong>(3)</span></a></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
</section>
</section>
</section>

<div class="section">
   
</div>

              </article>
              

              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2020-2022, Fortran Community.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>